{"pageProps":{"meta":{"title":"如何基于 Context 和 Hooks 封装一个 Toast 组件","date":"July 19, 2022","desc":"Toast 一般用于不是特别重要的消息，一闪而过，点到即止。它不需要像弹窗一样，强制中断用户的操作，体验上更佳。当然，如果是重要的消息，还是得打断用户，毕竟 Toast 的确比较容易忽略。在日常开发中，我们经常需要向用户展示一些非重要的消息，比如加载数据成功了，或者保存、删除成功等，都会用到 Toast 组件。下面我们来尝试，使用 Context 和 Hooks，封装一个简单的 Toast 组件。","type":"horse-sense"},"code":"var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var g=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),x=(t,n)=>{for(var o in n)r(t,o,{get:n[o],enumerable:!0})},d=(t,n,o,a)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let s of T(n))!u.call(t,s)&&s!==o&&r(t,s,{get:()=>n[s],enumerable:!(a=p(n,s))||a.enumerable});return t};var C=(t,n,o)=>(o=t!=null?h(m(t)):{},d(n||!t||!t.__esModule?r(o,\"default\",{value:t,enumerable:!0}):o,t)),f=t=>d(r({},\"__esModule\",{value:!0}),t);var c=g((S,i)=>{i.exports=_jsx_runtime});var P={};x(P,{default:()=>j,frontmatter:()=>v});var e=C(c()),v={title:\"\\u5982\\u4F55\\u57FA\\u4E8E Context \\u548C Hooks \\u5C01\\u88C5\\u4E00\\u4E2A Toast \\u7EC4\\u4EF6\",date:\"July 19, 2022\",desc:\"Toast \\u4E00\\u822C\\u7528\\u4E8E\\u4E0D\\u662F\\u7279\\u522B\\u91CD\\u8981\\u7684\\u6D88\\u606F\\uFF0C\\u4E00\\u95EA\\u800C\\u8FC7\\uFF0C\\u70B9\\u5230\\u5373\\u6B62\\u3002\\u5B83\\u4E0D\\u9700\\u8981\\u50CF\\u5F39\\u7A97\\u4E00\\u6837\\uFF0C\\u5F3A\\u5236\\u4E2D\\u65AD\\u7528\\u6237\\u7684\\u64CD\\u4F5C\\uFF0C\\u4F53\\u9A8C\\u4E0A\\u66F4\\u4F73\\u3002\\u5F53\\u7136\\uFF0C\\u5982\\u679C\\u662F\\u91CD\\u8981\\u7684\\u6D88\\u606F\\uFF0C\\u8FD8\\u662F\\u5F97\\u6253\\u65AD\\u7528\\u6237\\uFF0C\\u6BD5\\u7ADF Toast \\u7684\\u786E\\u6BD4\\u8F83\\u5BB9\\u6613\\u5FFD\\u7565\\u3002\\u5728\\u65E5\\u5E38\\u5F00\\u53D1\\u4E2D\\uFF0C\\u6211\\u4EEC\\u7ECF\\u5E38\\u9700\\u8981\\u5411\\u7528\\u6237\\u5C55\\u793A\\u4E00\\u4E9B\\u975E\\u91CD\\u8981\\u7684\\u6D88\\u606F\\uFF0C\\u6BD4\\u5982\\u52A0\\u8F7D\\u6570\\u636E\\u6210\\u529F\\u4E86\\uFF0C\\u6216\\u8005\\u4FDD\\u5B58\\u3001\\u5220\\u9664\\u6210\\u529F\\u7B49\\uFF0C\\u90FD\\u4F1A\\u7528\\u5230 Toast \\u7EC4\\u4EF6\\u3002\\u4E0B\\u9762\\u6211\\u4EEC\\u6765\\u5C1D\\u8BD5\\uFF0C\\u4F7F\\u7528 Context \\u548C Hooks\\uFF0C\\u5C01\\u88C5\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 Toast \\u7EC4\\u4EF6\\u3002\",type:\"horse-sense\"};function l(t){let n=Object.assign({p:\"p\",img:\"img\",h2:\"h2\",h3:\"h3\",code:\"code\",ul:\"ul\",li:\"li\",pre:\"pre\",a:\"a\"},t.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/images/build-your-own-react-toast-component/toast.png\",alt:\"toast\"})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u50CF\\u4E0A\\u56FE\\u4E2D\\u8FD9\\u79CD\\u4ECE\\u624B\\u673A\\u5E95\\u90E8\\uFF08\\u6216\\u9876\\u90E8\\uFF09\\u5F39\\u51FA\\u7684\\u6D88\\u606F\\u901A\\u77E5\\uFF0C\\u76F8\\u4FE1\\u5927\\u5BB6\\u4E00\\u5B9A\\u4E0D\\u964C\\u751F\\uFF0C\\u751A\\u81F3\\u53EF\\u80FD\\u90FD\\u5DF2\\u7ECF\\u89C9\\u5F97\\u6709\\u70B9\\u538C\\u70E6\\u3002\\u5728 Android \\u4E2D\\uFF0C\\u5B83\\u88AB\\u79F0\\u4F5C Toast \\u6216 Snackbar\\uFF0C\\u5728 iOS \\u4EE5\\u53CA\\u4E00\\u4E9B\\u684C\\u9762\\u7CFB\\u7EDF\\u4E2D\\uFF0C\\u5B83\\u53EB Notification\\u3002\\u4E0D\\u7BA1\\u540D\\u5B57\\u662F\\u4EC0\\u4E48\\uFF0C\\u5B83\\u4EEC\\u7684\\u4F5C\\u7528\\u90FD\\u662F\\u5411\\u7528\\u6237\\u4F20\\u8FBE\\u6D88\\u606F\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u8FD8\\u662F\\u559C\\u6B22 Toast \\u8FD9\\u4E2A\\u53EB\\u6CD5\\uFF0C\\u5C31\\u50CF\\u571F\\u53F8\\uFF08Toast\\uFF09\\u70E4\\u597D\\u4E86\\u4ECE\\u571F\\u53F8\\u673A\\u5F39\\u51FA\\u4E00\\u6837\\uFF0C\\u5F62\\u8C61\\u751F\\u52A8\\u3002Toast \\u4E00\\u822C\\u7528\\u4E8E\\u4E0D\\u662F\\u7279\\u522B\\u91CD\\u8981\\u7684\\u6D88\\u606F\\uFF0C\\u4E00\\u95EA\\u800C\\u8FC7\\uFF0C\\u70B9\\u5230\\u5373\\u6B62\\u3002\\u5B83\\u4E0D\\u9700\\u8981\\u50CF\\u5F39\\u7A97\\u4E00\\u6837\\uFF0C\\u5F3A\\u5236\\u4E2D\\u65AD\\u7528\\u6237\\u7684\\u64CD\\u4F5C\\uFF0C\\u4F53\\u9A8C\\u4E0A\\u66F4\\u4F73\\u3002\\u5F53\\u7136\\uFF0C\\u5982\\u679C\\u662F\\u91CD\\u8981\\u7684\\u6D88\\u606F\\uFF0C\\u8FD8\\u662F\\u5F97\\u6253\\u65AD\\u7528\\u6237\\uFF0C\\u6BD5\\u7ADF Toast \\u7684\\u786E\\u6BD4\\u8F83\\u5BB9\\u6613\\u5FFD\\u7565\\u3002\\u5728\\u65E5\\u5E38\\u5F00\\u53D1\\u4E2D\\uFF0C\\u6211\\u4EEC\\u7ECF\\u5E38\\u9700\\u8981\\u5411\\u7528\\u6237\\u5C55\\u793A\\u4E00\\u4E9B\\u975E\\u91CD\\u8981\\u7684\\u6D88\\u606F\\uFF0C\\u6BD4\\u5982\\u52A0\\u8F7D\\u6570\\u636E\\u6210\\u529F\\u4E86\\uFF0C\\u6216\\u8005\\u4FDD\\u5B58\\u3001\\u5220\\u9664\\u6210\\u529F\\u7B49\\uFF0C\\u90FD\\u4F1A\\u7528\\u5230 Toast \\u7EC4\\u4EF6\\u3002\\u4E0B\\u9762\\u6211\\u4EEC\\u6765\\u5C1D\\u8BD5\\uFF0C\\u4F7F\\u7528 Context \\u548C Hooks\\uFF0C\\u5C01\\u88C5\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 Toast \\u7EC4\\u4EF6\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{src:\"/images/build-your-own-react-toast-component/toaster.png\",alt:\"toaster\"})}),`\n`,(0,e.jsx)(n.h2,{children:\"\\u5F00\\u59CB\\u524D\\u7684\\u4E00\\u4E9B\\u601D\\u8003\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4E60\\u60EF\\u5199\\u4EE3\\u7801\\u4E4B\\u524D\\u7406\\u6E05\\u4E00\\u4E0B\\u601D\\u8DEF\\uFF0C\\u628A\\u6846\\u67B6\\u68B3\\u7406\\u51FA\\u6765\\uFF0C\\u771F\\u6B63\\u5230\\u4E86\\u6572\\u952E\\u76D8\\u7684\\u65F6\\u5019\\u5C31\\u4F1A\\u987A\\u624B\\u5F88\\u591A\\u3002\\u5982\\u679C\\u4F60\\u662F\\u201C\\u8BF4\\u5E72\\u5C31\\u5E72\\u201D\\u578B\\u7684\\uFF0C\\u53EF\\u4EE5\\u76F4\\u63A5\\u8DF3\\u8FC7\\u8FD9\\u4E00\\u90E8\\u5206\\u7684\\u5185\\u5BB9\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u600E\\u6837\\u7528\\uFF1F\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5C01\\u88C5\\u7EC4\\u4EF6\\uFF0C\\u76EE\\u7684\\u662F\\u4E3A\\u4E86\\u65B9\\u4FBF\\u65E5\\u540E\\u590D\\u7528\\uFF0C\\u63D0\\u9AD8\\u5F00\\u53D1\\u6548\\u7387\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u5F97\\u4ECE\\u4F7F\\u7528\\u8005\\u7684\\u89D2\\u5EA6\\u51FA\\u53D1\\uFF0C\\u5148\\u601D\\u8003\\u6E05\\u695A\\u201C\\u600E\\u6837\\u7528\\u201D\\u8FD9\\u4E2A\\u95EE\\u9898\\u3002\\u5982\\u679C\\u4F7F\\u7528\\u8D77\\u6765\\u4E0D\\u5408\\u5FC3\\u610F\\uFF0C\\u90A3\\u6837\\u5C01\\u88C5\\u5C31\\u5931\\u53BB\\u4E86\\u5B83\\u7684\\u610F\\u4E49\\u3002\\u8BBE\\u8BA1\\u7EC4\\u4EF6\\uFF0C\\u5C31\\u548C\\u8BBE\\u8BA1\\u63A5\\u53E3\\u4E00\\u6837\\uFF0C\\u9700\\u8981\\u54EA\\u4E9B\\u53C2\\u6570\\uFF08props\\uFF09\\uFF0C\\u8FD4\\u56DE\\u7684\\u5185\\u5BB9\\u662F\\u4EC0\\u4E48\\uFF08\\u6837\\u5F0F\\u3001\\u4EA4\\u4E92\\u3001\\u903B\\u8F91\\u7B49\\uFF09\\uFF0C\\u600E\\u6837\\u8C03\\u7528\\uFF0C\\u8FD9\\u4E9B\\u60F3\\u660E\\u767D\\u4E86\\uFF0C\\u5B9E\\u73B0\\u8D77\\u6765\\u5C31\\u80FD\\u6709\\u7684\\u653E\\u77E2\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u5148\\u6765\\u786E\\u5B9A\\u6700\\u57FA\\u7840\\u7684\\u5165\\u53C2\\uFF08props\\uFF09\\uFF0C\\u65E2\\u7136 Toast \\u5C55\\u793A\\u7684\\u662F\\u201C\\u6D88\\u606F\\u201D\\uFF0C\\u90A3\\u5B83\\u80AF\\u5B9A\\u9700\\u8981\",(0,e.jsx)(n.code,{children:\"message\"}),\"\\uFF0C\\u800C\\u5BF9\\u4E8E\\u4E0D\\u540C\\u7C7B\\u578B\\u7684\\u6D88\\u606F\\uFF0C\\u6700\\u597D\\u662F\\u80FD\\u6709\\u4E0D\\u540C\\u7684\\u6837\\u5F0F\",(0,e.jsx)(n.code,{children:\"type\"}),\"\\uFF0C\\u6BD4\\u5982\\u201C\\u8B66\\u544A\\u7EA2\\u201D\\u3001\\u201C\\u6210\\u529F\\u7EFF\\u201D\\u7B49\\u3002\\u7531\\u4E8E Toast \\u4E00\\u822C\\u90FD\\u662F\\u201C\\u4E00\\u95EA\\u800C\\u8FC7\\u201D\\uFF0C\\u56E0\\u6B64\\u4E5F\\u9700\\u8981\",(0,e.jsx)(n.code,{children:\"duration\"}),\"\\u6765\\u63A7\\u5236\\u5C55\\u793A\\u7684\\u65F6\\u95F4\\u957F\\u77ED\\u3002\\u9664\\u6B64\\u4E4B\\u5916\\uFF0C\\u6211\\u4EEC\\u8FD8\\u53EF\\u4EE5\\u5B9A\\u4E49\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u7684\\u4E8B\\u4EF6\\uFF0C\\u4F20\\u5165\\u4E00\\u4E2A\\u65B9\\u6CD5\\uFF0C\\u5728 Toast \\u6D88\\u5931\\u65F6\\u8C03\\u7528\\u3002\\u8FD9\\u6837\\u5C31\\u80FD\\u591F\\u4E0E\\u7EC4\\u4EF6\\u81EA\\u8EAB\\u7684\\u903B\\u8F91\\u8FDB\\u884C\\u4EA4\\u4E92\\uFF0C\\u4FBF\\u4E8E\\u62D3\\u5C55\\u3002\\u7EFC\\u4E0A\\uFF0C\\u6211\\u4EEC\\u6682\\u65F6\\u5148\\u5B9A\\u4E49\\u4EE5\\u4E0B\\u56DB\\u4E2A props\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"message\"}),\"\\uFF1A\\u6D88\\u606F\\u5185\\u5BB9\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"type\"}),\"\\uFF1A\\u6D88\\u606F\\u7C7B\\u578B\\uFF0C\\u63A7\\u5236\\u663E\\u793A\\u7684\\u6837\\u5F0F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"duration\"}),\"\\uFF1A\\u6301\\u7EED\\u65F6\\u95F4\\uFF0C\\u63A7\\u5236\\u5C55\\u793A\\u7684\\u65F6\\u957F\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\uFF1A\\u6D88\\u5931\\u4E8B\\u4EF6\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u5206\\u6563\\u8C03\\u7528\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u50CF\\u4E00\\u822C\\u7684\\u7EC4\\u4EF6\\u4E00\\u6837\\uFF0C\\u76F4\\u63A5\\u4EE5 JSX \\u7684\\u65B9\\u5F0F\\u8C03\\u7528\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",children:`<Toast message={message} type={type} duration={3000} onHide={hideHandler} />\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7136\\u800C\\u8FD9\\u6837\\u7684\\u8C03\\u7528\\u65B9\\u5F0F\\u6709\\u4E2A\\u95EE\\u9898\\uFF0C\\u5C31\\u662F\\u6211\\u4EEC\\u9700\\u8981\\u6709\\u989D\\u5916\\u7684 state \\u6765\\u63A7\\u5236\\u5B83\\u7684\\u663E\\u793A\\u3002\\u5F53\\u6211\\u4EEC\\u5728\\u4E0D\\u540C\\u7EC4\\u4EF6\\u91CC\\u8C03\\u7528\\u65F6\\uFF0C\\u9700\\u8981\\u5728\\u6BCF\\u4E2A\\u8C03\\u7528\\u7684\\u7EC4\\u4EF6\\u91CC\\u72EC\\u7ACB\\u7BA1\\u7406\\u72B6\\u6001\\uFF0C\\u663E\\u5F97\\u5341\\u5206\\u9EBB\\u70E6\\u3002\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"hl=1-2,6-7,11-12\",children:`// ComponentA \\u4E2D\nconst [show, setShow] = useState(false)\n\n<Toast {...props} show={show} />\n\n// ComponentB \\u4E2D\nconst [show, setShow] = useState(false)\n\n<Toast {...props} show={show} />\n\n// ComponentC \\u4E2D\nconst [show, setShow] = useState(false)\n\n<Toast {...props} show={show} />\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u6837\\u7684\\u64CD\\u4F5C\\u9664\\u4E86\\u9EBB\\u70E6\\u4EE5\\u5916\\uFF0C\\u8FD8\\u4F1A\\u5E26\\u6765\\u4E00\\u4E2A\\u95EE\\u9898\\uFF1A\\u7531\\u4E8E\\u6211\\u4EEC\\u7684\",(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\u7EC4\\u4EF6\\u88AB\\u5206\\u6563\\u5185\\u5D4C\\u5728\\u5404\\u4E2A\\u7EC4\\u4EF6\\u5F53\\u4E2D\\uFF0C\\u5BFC\\u81F4\\u5F88\\u96BE\\u7EDF\\u4E00\\u5904\\u7406\\u6837\\u5F0F\\uFF0C\\u5F53\\u6709\\u591A\\u4E2A Toast \\u540C\\u65F6\\u51FA\\u73B0\\u65F6\\uFF0C\\u5F88\\u5BB9\\u6613\\u5C31\\u4F1A\\u9020\\u6210 Toast \\u95F4\\u7684\\u201C\\u91CD\\u53E0\\u201D\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u7EDF\\u4E00\\u8C03\\u7528\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u65E2\\u7136\\u201C\\u5206\\u6563\\u201D\\u8FD9\\u4E48\\u9EBB\\u70E6\\uFF0C\\u90A3\\u4E48\\u80FD\\u4E0D\\u80FD\\u7EDF\\u4E00\\u5728\\u4E00\\u4E2A\\u5730\\u65B9\\u653E\\u7F6E\",(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\uFF0C\\u8FD9\\u6837\\u72B6\\u6001\\u3001\\u6837\\u5F0F\\u4E0A\\u90FD\\u80FD\\u5F88\\u597D\\u7684\\u5904\\u7406\\uFF0C\\u6BD4\\u5982\\uFF0C\\u653E\\u7F6E\\u5728\\u4E00\\u4E2A\\u7EDF\\u4E00\\u7684\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u7EC4\\u4EF6\\u4E2D\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"hl=2,13\",children:`// \\u7EDF\\u4E00\\u7684\\u72B6\\u6001\nconst [toasts, setToasts] = useState([])\n\n// ToastContainer \\u7EC4\\u4EF6\nconst ToastContainer = ({toasts}) => (\n  <ul>\n    {toasts.map(toast => (\n      <li><Toast {...toast} /></li>\n    ))}\n  </ul>\n)\n\n<ToastContainer toasts={toasts} />\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u6837\\u4E00\\u6765\\uFF0C\\u5F53\\u6211\\u4EEC\\u9700\\u8981\\u5C55\\u793A Toast \\u65F6\\uFF0C\\u53EA\\u9700\\u8981\\u5F80\",(0,e.jsx)(n.code,{children:\"toasts\"}),\"\\u6570\\u7EC4\\u4E2D\\u589E\\u52A0\\u4E00\\u4E2A\\u65B0\\u7684\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u5373\\u53EF\\u3002\\u5E76\\u4E14\\u6240\\u6709\\u7684 Toast \\u90FD\\u653E\\u7F6E\\u5728 ToastContainer \\u4E2D\\uFF0C\\u6837\\u5F0F\\u4E5F\\u53EF\\u4EE5\\u81EA\\u7531\\u53D1\\u6325\\u4E86\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"hl=16\",children:`// \\u7EDF\\u4E00\\u7684\\u72B6\\u6001\nconst [toasts, setToasts] = useState([])\n\n// ToastContainer \\u7EC4\\u4EF6\nconst ToastContainer = ({toasts}) => (\n  <ul>\n    {toasts.map(toast => (\n      <li><Toast {...toast} /></li>\n    ))}\n  </ul>\n)\n\n<ToastContainer toasts={toasts} />\n\n// \\u8981\\u5C55\\u793A Toast \\u65F6\nsetToasts([...toasts, newToast])\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u9762\\u7684\\u65B9\\u6CD5\\u4E2D\\u72B6\\u6001\\u662F\\u7EDF\\u4E00\\u4E86\\uFF0C\\u4F46\\u64CD\\u4F5C\\u90FD\\u5F97\\u5728\\u540C\\u4E00\\u4E2A\\u7EC4\\u4EF6\\u5185\\u3002\\u5047\\u5982\\u6211\\u4EEC\\u8981\\u5728\\u4E0D\\u540C\\u7684\\u7EC4\\u4EF6\\u91CC\\u8C03\\u7528\\u5C55\\u793A Toast \\u7684\\u65B9\\u6CD5\\u5462\\uFF1F\\u4E00\\u79CD\\u65B9\\u6CD5\\u662F\",(0,e.jsx)(n.a,{href:\"https://reactjs.org/docs/lifting-state-up.html\",children:\"\\u201C\\u72B6\\u6001\\u63D0\\u5347\\u201D\\uFF08Lifting state up\\uFF09\"}),\"\\uFF0C\\u628A\\u72B6\\u6001\\u63D0\\u5230\\u66F4\\u9AD8\\u4E00\\u5C42\\uFF0C\\u5177\\u4F53\\u65B9\\u6CD5\\u4E0D\\u518D\\u8D58\\u8FF0\\uFF0C\\u53EF\\u4EE5\\u770B\\u6587\\u6863\\u4E86\\u89E3\\u3002\\u4F46\\u662F\\u8FD9\\u79CD\\u505A\\u6CD5\\u4F1A\\u5E26\\u6765\",(0,e.jsx)(n.a,{href:\"https://kentcdodds.com/blog/prop-drilling\",children:\"\\u201CProp drilling\\u201D\"}),\"\\u7684\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u5F97\\u5C06\",(0,e.jsx)(n.code,{children:\"setToasts\"}),\"\\u65B9\\u6CD5\\u4F20\\u7ED9\\u9700\\u8981\\u8C03\\u7528\\u7684\\u7EC4\\u4EF6\\uFF0C\\u5982\\u679C\\u7EC4\\u4EF6\\u5D4C\\u5957\\u7684\\u5C42\\u7EA7\\u5F88\\u6DF1\\uFF0C\\u5C31\\u5F97\\u4E00\\u5C42\\u5C42\\u5730\\u5F80\\u4E0B\\u201C\\u94BB\\u201D\\uFF0C\\u8FD9\\u79CD\\u505A\\u6CD5\\u5E76\\u4E0D\\u4F18\\u96C5\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"hl=16\",children:`// \\u7EDF\\u4E00\\u7684\\u72B6\\u6001\nconst [toasts, setToasts] = useState([])\n\n// ToastContainer \\u7EC4\\u4EF6\nconst ToastContainer = ({toasts}) => (\n  <ul>\n    {toasts.map(toast => (\n      <li><Toast {...toast} /></li>\n    ))}\n  </ul>\n)\n\n<ToastContainer toasts={toasts} />\n\n// \\u628A setToasts \\u65B9\\u6CD5\\u4F20\\u7ED9\\u8981\\u8C03\\u7528\\u7684\\u7EC4\\u4EF6\n<AnotherComponent onShowToast={setToasts} />\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5B9E\\u9645\\u4E0A\\u6211\\u4EEC\\u53EF\\u4EE5\\u5229\\u7528\\u7EDF\\u4E00\\u7684\\u72B6\\u6001\\u7BA1\\u7406\\u5DE5\\u5177\\u6765\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u4E1A\\u754C\\u5DF2\\u7ECF\\u6709\\u65E0\\u6570\\u7684\\u8F6E\\u5B50\\u80FD\\u505A\\u5230\\uFF0C\\u6BD5\\u7ADF\\u8BF4\\u5230\\u9020\\u8F6E\\u5B50\\uFF0C\\u7684\\u786E\\u6CA1\\u6709\\u6BD4\\u8D35\\u5708\\u66F4\\u72C2\\u70ED\\u7684\\u4E86\\u3002\\u6BD4\\u5982\\u4F20\\u7EDF\\u4E00\\u70B9\\u7684 \",(0,e.jsx)(n.a,{href:\"https://redux.js.org/\",children:\"Redux\"}),\"\\uFF0C\\u65B0\\u4E00\\u70B9\\u7684 \",(0,e.jsx)(n.a,{href:\"https://jotai.org/\",children:\"Jotai\"}),\"\\uFF0C\\u5B98\\u65B9\\u80CC\\u666F\\u7684 \",(0,e.jsx)(n.a,{href:\"https://recoiljs.org/\",children:\"Recoil\"}),\"\\uFF0C\\u8FD8\\u6709 \",(0,e.jsx)(n.a,{href:\"https://github.com/pmndrs/zustand\",children:\"Zustand\"}),\"\\u3001\",(0,e.jsx)(n.a,{href:\"https://rematchjs.org/\",children:\"Rematch\"}),\" \\u7B49\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u9762\\u63D0\\u5230\\u7684\\u8FD9\\u4E9B\\u8F6E\\u5B50\\uFF0C\\u5404\\u6709\\u4F18\\u52A3\\uFF0C\\u53EF\\u4EE5\\u81EA\\u884C\\u9009\\u62E9\\u4F7F\\u7528\\u3002\\u5BF9\\u4E8E\\u6211\\u4EEC Toast \\u7EC4\\u4EF6\\u8FD9\\u79CD\\u201C\\u5C0F\\u9E21\\u201D\\uFF0C\\u5176\\u5B9E\\u6CA1\\u6709\\u5FC5\\u8981\\u4E0A\\u201C\\u725B\\u5200\\u201D\\uFF0C\\u7528 Context \\u914D\\u5408\",(0,e.jsx)(n.code,{children:\"useContext\"}),\"\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u540C\\u6837\\u7684\\u6548\\u679C\\u3002\\u5982\\u679C\\u4F60\\u8FD8\\u4E0D\\u4E86\\u89E3 Context \\u548C Hooks\\uFF0C\\u53EF\\u4EE5\\u770B\\u770B\",(0,e.jsx)(n.a,{href:\"https://kentcdodds.com/blog/how-to-use-react-context-effectively\",children:\"\\u8FD9\\u4E2A\\u6587\\u6863\"}),\"\\uFF0C\\u8FD9\\u91CC\\u4E0D\\u518D\\u8D58\\u8FF0\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",children:`// \\u5305\\u5728\\u9700\\u8981\\u8C03\\u7528\\u7684\\u7EC4\\u4EF6\\u7684\\u516C\\u5171\\u5916\\u5C42\nReactDOM.createRoot(document.getElementById(\"root\")).render(\n  <ToastProvider>\n    <App />\n  </ToastProvider>\n);\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u66B4\\u9732\\u63A5\\u53E3\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u81EA\\u5B9A\\u4E49\\u4E00\\u4E2A Context Provider \\u7EC4\\u4EF6\",(0,e.jsx)(n.code,{children:\"<ToastProvider/>\"}),\"\\uFF0C\\u5C06\\u5B83\\u5305\\u5728\\u9700\\u8981\\u8C03\\u7528\\u7684\\u7EC4\\u4EF6\\u7684\\u516C\\u5171\\u5916\\u5C42\\uFF0C\\u6BD4\\u5982\",(0,e.jsx)(n.code,{children:\"<App/>\"}),\"\\u4E4B\\u5916\\u3002\\u8FD9\\u65F6\\u6211\\u4EEC\\u5C31\\u8981\\u8003\\u8651\\u8BE5\\u5C06\\u54EA\\u4E9B\\u4E1C\\u897F\\u653E\\u8FDB Context \\u91CC\\u516C\\u7528\\uFF0C\\u5C31\\u662F\\u8981\\u66B4\\u9732\\u4EC0\\u4E48\\u6837\\u7684\\u63A5\\u53E3\\u51FA\\u53BB\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\u4E2D\\u6211\\u4EEC\\u662F\\u901A\\u8FC7\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"setToasts\"}),\"\\u65B9\\u6CD5\\u6765\\u589E\\u52A0\\u65B0\\u7684 Toast\\uFF0C\\u5982\\u679C\\u76F4\\u63A5\\u628A\\u8FD9\\u4E2A\\u65B9\\u6CD5\\u66B4\\u9732\\u51FA\\u53BB\\uFF0C\\u8C03\\u7528\\u8005\\u6709\\u53EF\\u80FD\\u4F1A\\u968F\\u610F\\u6539\\u52A8 state \\u800C\\u5BFC\\u81F4\\u5947\\u602A\\u7684 bug \\u51FA\\u73B0\\u3002\\u56E0\\u6B64\\u6211\\u4EEC\\u9700\\u8981\\u5728\",(0,e.jsx)(n.code,{children:\"setToasts\"}),\"\\u65B9\\u6CD5\\u5916\\u518D\\u5305\\u4E0A\\u4E00\\u5C42\\uFF0C\\u4EE5\\u9650\\u5236\\u8C03\\u7528\\u8005\\u7684\\u4F7F\\u7528\\uFF0C\\u6BD4\\u5982\\u4E0B\\u9762\\u7684\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u65B9\\u6CD5\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`toast(\"\\u5220\\u9664\\u6210\\u529F\\u3002\", 3000, \"success\", doSomethingOnHide);\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u76F4\\u63A5\\u628A\\u6240\\u9700\\u8981\\u7684\\u53C2\\u6570\\u4F20\\u8FDB\\u53BB\\u5373\\u53EF\\uFF0C\\u7701\\u53BB\\u4E86\\u76F4\\u63A5\\u64CD\\u4F5C state \\u6240\\u5E26\\u6765\\u7684\\u98CE\\u9669\\u3002\\u751A\\u81F3\\u6211\\u4EEC\\u8FD8\\u53EF\\u4EE5\\u53C2\\u8003 Axios \\u7684\\u505A\\u6CD5\\uFF0C\\u628A\\u7C7B\\u578B\",(0,e.jsx)(n.code,{children:\"type\"}),\"\\u8F6C\\u6210\\u65B9\\u6CD5\\uFF0C\\u76F4\\u63A5\\u8C03\\u7528\\uFF0C\\u7701\\u53BB\\u586B\\u5199\",(0,e.jsx)(n.code,{children:\"type\"}),\"\\u53C2\\u6570\\u7684\\u9EBB\\u70E6\\u3002\\u8FD8\\u53EF\\u4EE5\\u7528\\u9ED8\\u8BA4\\u503C\\u7701\\u7565\\u4E00\\u4E9B\\u53C2\\u6570\\uFF0C\\u8FDB\\u4E00\\u6B65\\u7B80\\u5316\\u8C03\\u7528\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`toast.info(\"\\u52A0\\u8F7D\\u6210\\u529F\\u3002\");\ntoast.error(\"\\u4FDD\\u5B58\\u5931\\u8D25\\u3002\");\ntoast.success(\"\\u62A2\\u7968\\u6210\\u529F\\u3002\");\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u5C0F\\u7ED3\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u7EFC\\u4E0A\\uFF0C\\u6211\\u4EEC\\u524D\\u671F\\u786E\\u5B9A\\u4E0B\\u6765\\u7684\\u51E0\\u4E2A\\u57FA\\u672C\\u7684\\u5C01\\u88C5\\u8981\\u70B9\\u6709\\uFF1A\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\u7EC4\\u4EF6\\u9700\\u8981\",(0,e.jsx)(n.code,{children:\"message\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"type\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"duration\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u8FD9\\u51E0\\u4E2A props\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\u7528\\u7EDF\\u4E00\\u7684\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u6765\\u7BA1\\u7406\\u6240\\u6709\",(0,e.jsx)(n.code,{children:\"<Toast/>\"})]}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7528\\u4E00\\u4E2A\\u6570\\u7EC4\\u6765\\u5904\\u7406 Toast \\u7684\\u589E\\u5220\\uFF0C\\u4FDD\\u5B58\\u76F8\\u5173\\u5C5E\\u6027\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\u7528 Context \\u7BA1\\u7406\\u72B6\\u6001\"}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\u5BF9\\u5916\\u66B4\\u9732\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u53CA\\u5176\\u884D\\u751F\\u7684\\u65B9\\u6CD5\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"\\u5F00\\u59CB\\u5C01\\u88C5\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u53EF\\u4EE5\\u6B63\\u5F0F\\u5F00\\u59CB\\u5C01\\u88C5\\u4E86\\u3002\\u8FD9\\u91CC\\u76F4\\u63A5\\u7565\\u8FC7\\u9879\\u76EE\\u7684\\u521B\\u5EFA\\u9636\\u6BB5\\uFF0C\\u4F60\\u53EF\\u4EE5\\u4F7F\\u7528\\u81EA\\u5DF1\\u559C\\u6B22\\u7684\\u811A\\u624B\\u67B6\\u6765\\u521B\\u5EFA\\u9879\\u76EE\\uFF0C\\u53C8\\u6216\\u8005\\u5728\\u5DF2\\u6709\\u7684\\u9879\\u76EE\\u4E2D\\u8FDB\\u884C\\u5C01\\u88C5\\uFF0C\\u8FD9\\u5E76\\u4E0D\\u5F71\\u54CD\\u5B9E\\u9645\\u7684\\u5C01\\u88C5\\u8FC7\\u7A0B\\u3002\\u6211\\u8FD9\\u91CC\\u628A\\u6240\\u6709\\u6587\\u4EF6\\u90FD\\u76F4\\u63A5\\u653E\\u5728\",(0,e.jsx)(n.code,{children:\"src/\"}),\"\\u76EE\\u5F55\\u4E0B\\uFF0C\\u4F60\\u53EF\\u4EE5\\u628A\\u5B83\\u4EEC\\u653E\\u5728\",(0,e.jsx)(n.code,{children:\"component/\"}),\"\\u6216\\u8005\",(0,e.jsx)(n.code,{children:\"hooks/\"}),\"\\u6216\\u8005\\u5176\\u5B83\\u4EFB\\u610F\\u76EE\\u5F55\\u90FD\\u6CA1\\u95EE\\u9898\\uFF0C\\u770B\\u4E2A\\u4EBA\\u559C\\u597D\\u3002\\u6BCF\\u4E2A\\u6587\\u4EF6\\u7684\\u5185\\u5BB9\\u5728\\u4E0B\\u9762\\u4F1A\\u5177\\u4F53\\u4ECB\\u7ECD\\u5230\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{children:`src/\n|--- ToastProvider.jsx\n|--- Toast.jsx\n|--- ToastContainer.jsx\n|--- useToast.js\n|--- App.jsx\n|--- index.js\n|--- index.css\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u4ECE\\u6700\\u5916\\u5C42\\u5F00\\u59CB\\uFF0C\\u5148\\u5C01\\u88C5\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"<ToastProvider/>\"}),\"\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"Context Provider\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastProvider.jsx\",children:`import { createContext } from \"react\";\n\n// \\u521B\\u5EFA Context\nconst ToastContext = createContext({});\n\n// \\u5957\\u4E0A Provider\nconst ToastProvider = ({ children }) => {\n  return <ToastContext.Provider>{children}</ToastContext.Provider>;\n};\n\nexport default ToastProvider;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Context \\u5229\\u7528 Provider \\u63D0\\u4F9B\\u9700\\u8981\\u201C\\u66B4\\u9732\\u201D\\u516C\\u5171\\u7684\\u5185\\u5BB9\\uFF0C\\u7136\\u540E\\u901A\\u8FC7 Consumer \\u6216\",(0,e.jsx)(n.code,{children:\"useContext\"}),\"\\u65B9\\u6CD5\\u6765\\u5728\\u5D4C\\u5957\\u7684\\u7EC4\\u4EF6\\u4E2D\\u83B7\\u5F97\\u8FD9\\u4E9B\\u516C\\u5171\\u7684\\u5185\\u5BB9\\u3002\\u5728\\u4F7F\\u7528\\u7684\\u65F6\\u5019\\uFF0C\\u6211\\u4EEC\\u628A\",(0,e.jsx)(n.code,{children:\"<ToastProvider/>\"}),\"\\u7EC4\\u4EF6\\u5305\\u5728\\u5916\\u5C42\\u5373\\u53EF\\uFF0C\\u8FD9\\u6837\\u91CC\\u9762\\u7684\\u7EC4\\u4EF6\\uFF08\\u4EE5\\u53CA\\u6DF1\\u5C42\\u7684\\u5B50\\u7EC4\\u4EF6\\uFF09\\u5C31\\u80FD\\u83B7\\u5F97\\u8FD9\\u4E9B\\u5185\\u5BB9\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/index.js\",children:`import App from \"./App\";\nimport ToastProvider from \"./ToastProvider\";\n\nReactDOM.createRoot(document.getElementById(\"root\")).render(\n  <ToastProvider>\n    <App />\n  </ToastProvider>\n);\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F53\\u7136\\uFF0C\\u8FD9\\u91CC\\u53EA\\u662F\\u642D\\u4E86\\u4E2A\\u6846\\u67B6\\uFF0C\\u56E0\\u4E3A\\u6211\\u4EEC\\u8FD8\\u6CA1\\u6709\\u63D0\\u4F9B\\u8981\\u66B4\\u9732\\u7684\\u5185\\u5BB9\\uFF0C\\u6240\\u4EE5\\u73B0\\u5728\\u5728\\u7EC4\\u4EF6\\u4E2D\\u8FD8\\u4E0D\\u80FD\\u83B7\\u53D6\\u5230\\u4EFB\\u4F55\\u4E1C\\u897F\\u3002\"}),`\n`,(0,e.jsx)(n.h3,{children:\"Toast \\u7EC4\\u4EF6\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u6765\\u5199\\u771F\\u6B63\\u7684\",(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\u672C\\u4F53\\uFF0C\\u5B83\\u9664\\u4E86\\u63A5\\u53D7\\u4E0A\\u9762\\u63D0\\u5230\\u7684\",(0,e.jsx)(n.code,{children:\"message\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"duration\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"type\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u8FD9\\u51E0\\u4E2A props \\u4EE5\\u5916\\uFF0C\\u8FD8\\u989D\\u5916\\u589E\\u52A0\\u4E86\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"id\"}),\"\\uFF0C\\u4F5C\\u4E3A\\u552F\\u4E00\\u7684\\u6807\\u8BC6\\uFF0C\\u65B9\\u4FBF\\u6211\\u4EEC\\u5BF9\",(0,e.jsx)(n.code,{children:\"toasts\"}),\"\\u6570\\u636E\\u8FDB\\u884C\\u5220\\u51CF\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/Toast.jsx\",children:`import { useEffect } from \"react\";\n\nconst TOAST_STYLE = {\n  info: {\n    bgColor: \"bg-amber-100\",\n    textColor: \"text-amber-600\",\n  },\n  error: {\n    bgColor: \"bg-red-100\",\n    textColor: \"text-red-600\",\n  },\n  success: {\n    bgColor: \"bg-green-100\",\n    textColor: \"text-green-600\",\n  },\n};\n\nconst Toast = ({ id, message, duration, type, onHide }) => {\n  useEffect(() => {\n    // duration \\u63A7\\u5236\\u663E\\u793A\\u7684\\u65F6\\u957F\\uFF0C\\u5230\\u671F\\u6D88\\u5931\\u65F6\\u8C03\\u7528 onHide \\u5E76\\u4F20\\u5165 id\n    const timer = setTimeout(() => onHide(id), duration);\n    return () => clearTimeout(timer);\n  }, []);\n  return (\n    <div\n      className={\\`px-8 py-4 rounded-md shadow-sm \\${TOAST_STYLE[type].bgColor} \\${TOAST_STYLE[type].textColor}\\`}\n    >\n      {message}\n    </div>\n  );\n};\n\nexport default Toast;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u7EC4\\u4EF6\\u7684\\u903B\\u8F91\\u6BD4\\u8F83\\u7B80\\u5355\\uFF0C\",(0,e.jsx)(n.code,{children:\"message\"}),\"\\u5C55\\u793A\\u6D88\\u606F\\u7684\\u5185\\u5BB9\\uFF0C\\u4F60\\u53EF\\u4EE5\\u7528\\u4F60\\u559C\\u6B22\\u7684 HTML \\u7ED3\\u6784\\u5C55\\u793A\\u3002\\u6211\\u8FD9\\u91CC\\u7528\\u4E86\\u6700\\u7B80\\u5355\\u7684 div \\u914D\\u5408 \",(0,e.jsx)(n.a,{href:\"https://tailwindcss.com/\",children:\"Tailwind CSS\"}),\"\\uFF0C\\u901A\\u8FC7\",(0,e.jsx)(n.code,{children:\"type\"}),\"\\u6765\\u533A\\u5206\\u4E0D\\u540C\\u7C7B\\u578B\\uFF0C\\u8BBE\\u7F6E\\u4E0D\\u540C\\u7684\\u6837\\u5F0F\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u7531\\u4E8E Toast \\u5C55\\u793A\\u4E00\\u5C0F\\u6BB5\\u65F6\\u95F4\\u540E\\u4FBF\\u4F1A\\u81EA\\u52A8\\u6D88\\u5931\\uFF0C\\u6211\\u4EEC\\u5229\\u7528\",(0,e.jsx)(n.code,{children:\"useEffect\"}),\"\\u5728\\u7EC4\\u4EF6\\u521D\\u59CB\\u5316\\u65F6\\u8BBE\\u7F6E\\u4E00\\u4E2A\\u5B9A\\u65F6\\u5668\\uFF0C\\u7531\",(0,e.jsx)(n.code,{children:\"duration\"}),\"\\u63A7\\u5236\\u5C55\\u793A\\u7684\\u65F6\\u957F\\uFF0C\\u5230\\u671F\\u6D88\\u5931\\u65F6\\uFF0C\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u65B9\\u6CD5\\uFF0C\\u5E76\\u4F20\\u5165\",(0,e.jsx)(n.code,{children:\"id\"}),\"\\uFF0C\\u63A7\\u5236 Toast \\u9690\\u85CF\\uFF08\\u9690\\u85CF\\u7684\\u903B\\u8F91\\u5728\\u540E\\u9762\\uFF09\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"ToastContainer\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5F53\\u540C\\u65F6\\u6709\\u591A\\u4E2A Toast \\u4E00\\u8D77\\u5C55\\u793A\\u7684\\u65F6\\u5019\\uFF0C\\u867D\\u7136\\u8FD9\\u79CD\\u60C5\\u51B5\\u6BD4\\u8F83\\u5C11\\uFF0C\\u4F46\\u4E5F\\u662F\\u8981\\u8003\\u8651\\u8FDB\\u6765\\uFF0C\\u6700\\u597D\\u8FD8\\u662F\\u80FD\\u591F\\u5728\\u4E00\\u4E2A\\u201C\\u5BB9\\u5668\\u201D\\u91CC\\u7EDF\\u4E00\\u5904\\u7406\\uFF0C\\u907F\\u514D\\u6837\\u5F0F\\u4E0A\\u91CD\\u53E0\\u3002\\u6211\\u4EEC\\u65B0\\u5EFA\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u672C\\u8D28\\u4E0A\\u5C31\\u662F\\u4E00\\u4E2A\\u5217\\u8868\\uFF0C\\u8FD9\\u91CC\\u7528 flex \\u7B80\\u5355\\u5E03\\u5C40\\u4E00\\u4E0B\\uFF0C\\u6216\\u8005\\u4F60\\u559C\\u6B22\\u7684\\u5176\\u5B83\\u5E03\\u5C40\\u6837\\u5F0F\\u3002\\u7EC4\\u4EF6\\u63A5\\u53D7\\u4E24\\u4E2A props\\uFF1A\",(0,e.jsx)(n.code,{children:\"toasts\"}),\"\\u4E2D\\u5B58\\u653E\\u6240\\u6709 Toast \\u6570\\u636E\\uFF0C\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u5219\\u5728\\u6D88\\u5931\\u65F6\\u8C03\\u7528\\u3002\\u8FD9\\u91CC\\u53C8\\u7528\\u5230\\u4E86\\u201Cprop drilling\\u201D\\uFF0C\\u56E0\\u4E3A\\u79FB\\u9664 Toast \\u7684\\u65B9\\u6CD5\\uFF08\\u540E\\u9762\\u4F1A\\u8BB2\\u5230\\uFF09\\uFF0C\\u6211\\u4E0D\\u5E0C\\u671B\\u5B83\\u88AB\\u66B4\\u9732\\u5230 Context \\u4E2D\\uFF0C\\u53EA\\u597D\\u4E00\\u5C42\\u5C42\\u4F20\\u8FDB\\u6765\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F53\\u7136\\uFF0C\\u5982\\u679C\\u4F60\\u5E0C\\u671B\\u80FD\\u591F\\u201C\\u624B\\u52A8\\u201D\\u63A7\\u5236 Toast \\u7684\\u663E\\u793A\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u628A\\u79FB\\u9664\\u7684\\u65B9\\u6CD5\\u4E5F\\u4E00\\u5E76\\u66B4\\u9732\\u51FA\\u53BB\\uFF0C\\u8FD9\\u91CC\\u4E3A\\u4E86\\u4FDD\\u6301\\u7B80\\u5355\\u6682\\u4E14\\u4E0D\\u8FD9\\u6837\\u505A\\u3002\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastContainer.jsx\",children:`import Toast from \"./Toast\";\n\nconst ToastContainer = ({ toasts, onHide }) => {\n  return (\n    <ul className=\"fixed top-0 right-0 p-8 flex flex-col items-end\">\n      {toasts.map((toast) => {\n        const { id, type, message, duration } = toast;\n        return (\n          <li key={id} className=\"mb-4 last:mb-0\">\n            <Toast\n              id={id}\n              message={message}\n              duration={duration}\n              type={type}\n              onHide={onHide}\n            />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ToastContainer;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u8FD8\\u53EF\\u4EE5\\u7ED9 Toast \\u7684\\u8FDB\\u51FA\\u52A0\\u4E0A\\u52A8\\u753B\\uFF0C\\u8FD9\\u91CC\\u63A8\\u8350\",(0,e.jsx)(n.code,{children:\"react-transition-group\"}),\"\\u8FD9\\u4E2A\\u5305\\u3002\\u5B83\\u5341\\u5206\\u5C0F\\u5DE7\\uFF0C\\u4E25\\u683C\\u610F\\u4E49\\u4E0A\\u6765\\u8BB2\\uFF0C\\u5B83\\u5E76\\u4E0D\\u662F\\u4E00\\u4E2A\\u52A8\\u753B\\u5E93\\uFF0C\\u5B83\\u53EA\\u662F\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E9B\\u80FD\\u591F\\u65B9\\u4FBF\\u5B9E\\u73B0\\u52A8\\u753B\\u9700\\u6C42\\u7684\\u201C\\u94A9\\u5B50\\u201D\\u3002\\u5B83\\u7684\\u7528\\u6CD5\\u4E5F\\u6BD4\\u8F83\\u7B80\\u5355\\uFF0C\\u8FD9\\u91CC\\u7528\\u5230\\u4E86\",(0,e.jsx)(n.code,{children:\"<TransitionGroup/>\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"<CSSTransition/>\"}),\"\\u4E24\\u4E2A\\u7EC4\\u4EF6\\uFF0C\\u518D\\u914D\\u5408\\u7B80\\u5355\\u7684 CSS\\uFF0C\\u5C31\\u80FD\\u5B9E\\u73B0\\u8FDB\\u51FA\\u7684\\u52A8\\u753B\\u6548\\u679C\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastContainer.jsx del=6,14,29 add=2,7-10,15,25,28\",children:`import Toast from \"./Toast\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\n\nconst ToastContainer = ({ toasts, onHide }) => {\n  return (\n    <ul className=\"fixed top-0 right-0 p-8 flex flex-col items-end\">\n    <TransitionGroup\n      component=\"ul\"\n      className=\"fixed top-0 right-0 p-8 flex flex-col items-end\"\n    >\n      {toasts.map((toast) => {\n        const { id, type, message, duration } = toast;\n        return (\n          <li key={id} className=\"mb-4 last:mb-0\">\n          <CSSTransition key={id} timeout={300} classNames=\"toast\">\n            <li className=\"mb-4 last:mb-0\">\n              <Toast\n                id={id}\n                message={message}\n                duration={duration}\n                type={type}\n                onHide={onHide}\n              />\n            </li>\n          </CSSTransition>\n        );\n      })}\n    </TransitionGroup>\n    </ul>\n  );\n};\n\nexport default ToastContainer;\n`})}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-css\",metastring:\"title=src/index.css\",children:`.toast-enter {\n  opacity: 0;\n  transform: translateX(100%);\n}\n.toast-enter-active {\n  opacity: 1;\n  transform: translateX(0);\n  transition: all 300ms;\n}\n.toast-exit {\n  opacity: 1;\n  transform: translateX(0);\n}\n.toast-exit-active {\n  opacity: 0;\n  transform: translateX(100%);\n  transition: all 300ms;\n}\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u72B6\\u6001\\u7BA1\\u7406\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5904\\u7406\\u5B8C\",(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u4E4B\\u540E\\uFF0C\\u6211\\u4EEC\\u56DE\\u5230\",(0,e.jsx)(n.code,{children:\"<ToastProvider/>\"}),\"\\u6765\\uFF0C\\u7EE7\\u7EED\\u5B8C\\u5584\\u5B83\\u72B6\\u6001\\u7BA1\\u7406\\u90E8\\u5206\\u7684\\u903B\\u8F91\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastProvider.jsx del=1,11 add=2,9,12-17\",children:`import { createContext } from \"react\";\nimport { createContext, useState } from \"react\";\n\n// \\u521B\\u5EFA Context\nconst ToastContext = createContext({});\n\n// \\u5957\\u4E0A Provider\nconst ToastProvider = ({ children }) => {\n  const [toasts, setToasts] = useState([]);\n\n  return <ToastContext.Provider>{children}</ToastContext.Provider>;\n  return (\n    <ToastContext.Provider>\n      {children}\n      <ToastContainer toasts={toasts} />\n    </ToastContext.Provider>\n  );\n};\n\nexport default ToastProvider;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6211\\u4EEC\\u9996\\u5148\\u589E\\u52A0\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"toasts\"}),\"\\u7684\\u72B6\\u6001\\uFF0C\\u5B83\\u662F\\u4E00\\u4E2A\\u6570\\u7EC4\\u3002\\u6211\\u4EEC\\u5C06\\u5B83\\u4F20\\u7ED9\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\uFF0C\\u540C\\u65F6\\u5C06\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u5D4C\\u5728\",(0,e.jsx)(n.code,{children:\"<ToastContext.Provider/>\"}),\"\\u91CC\\u3002\\u4F60\\u53EF\\u80FD\\u6CE8\\u610F\\u5230\\u4E86\\uFF0C\\u6B64\\u65F6\\u7684\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u8FD8\\u7F3A\\u5C11\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u7684\\u53C2\\u6570\\uFF0C\\u4E0D\\u7528\\u6025\\uFF0C\\u6211\\u4EEC\\u5148\\u5B9E\\u73B0\\u65B0\\u589E Toast \\u7684\\u65B9\\u6CD5\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastProvider.jsx add=7,13-22\",children:`import { createContext, useState } from \"react\";\n\n// \\u521B\\u5EFA Context\nconst ToastContext = createContext({});\n\n// \\u552F\\u4E00 id\nlet toastCount = 0;\n\n// \\u5957\\u4E0A Provider\nconst ToastProvider = ({ children }) => {\n  const [toasts, setToasts] = useState([]);\n\n  const addToast = (message, duration, onHideHandler, type) => {\n    const toast = {\n      id: ++toastCount,\n      message,\n      duration,\n      onHideHandler,\n      type,\n    };\n    setToasts((toasts) => [...toasts, toast]);\n  };\n\n  return (\n    <ToastContext.Provider>\n      {children}\n      <ToastContainer toasts={toasts} />\n    </ToastContext.Provider>\n  );\n};\n\nexport default ToastProvider;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728\\u7EC4\\u4EF6\\u5185\\uFF0C\\u6211\\u4EEC\\u589E\\u52A0\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"addToast\"}),\"\\u65B9\\u6CD5\\uFF0C\\u987E\\u540D\\u601D\\u4E49\\u8FD9\\u4E2A\\u65B9\\u6CD5\\u662F\\u7528\\u6765\\u589E\\u52A0 Toast \\u7684\\u3002\\u5B83\\u7684\\u903B\\u8F91\\u975E\\u5E38\\u7B80\\u5355\\uFF0C\\u628A\\u6240\\u6709\",(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\u7EC4\\u4EF6\\u9700\\u8981\\u7684\\u53C2\\u6570\\u6253\\u5305\\u6210\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u5BF9\\u8C61\\uFF0C\\u6DFB\\u52A0\\u5230\\u6570\\u7EC4\\u4E2D\\u53BB\\u3002\\u5176\\u4E2D\",(0,e.jsx)(n.code,{children:\"id\"}),\"\\u5C5E\\u6027\\u6211\\u4EEC\\u7528\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u5168\\u5C40\\u53D8\\u91CF\\u6765\\u5B9E\\u73B0\\uFF0C\\u6BCF\\u65B0\\u589E\\u4E00\\u4E2A Toast \\u5219\\u5BF9\\u5176\\u8FDB\\u884C\\u9012\\u589E\\u5904\\u7406\\uFF0C\\u4FDD\\u8BC1\\u6240\\u6709\",(0,e.jsx)(n.code,{children:\"id\"}),\"\\u7684\\u552F\\u4E00\\u6027\\u3002\\u5F53\\u7136\\u4F60\\u4E5F\\u53EF\\u4EE5\\u7528\",(0,e.jsx)(n.code,{children:\"uuid\"}),\"\\u53BB\\u5B9E\\u73B0\\u3002\\u53E6\\u5916\",(0,e.jsx)(n.code,{children:\"onHideHandler\"}),\"\\u662F\\u4E00\\u4E2A\\u56DE\\u8C03\\u51FD\\u6570\\uFF0C\\u5B83\\u5C06\\u5728 Toast \\u88AB\\u79FB\\u9664\\u65F6\\u8C03\\u7528\\uFF0C\\u4E0B\\u9762\\u4F1A\\u8BB2\\u5230\\u5B83\\u7684\\u8C03\\u7528\\u65F6\\u673A\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastProvider.jsx del=23 add=6-18,24\",children:`const ToastProvider = ({ children }) => {\n  const [toasts, setToasts] = useState([]);\n\n  // \\u5176\\u4F59\\u90E8\\u5206\\u7565\n\n  const removeToast = (id) => {\n    setToasts((toasts) =>\n      toasts.filter((toast) => {\n        if (toast.id === id) {\n          if (typeof toast.onHideHandler === \"function\") {\n            toast.onHideHandler();\n          }\n          return false;\n        }\n        return true;\n      })\n    );\n  };\n\n  return (\n    <ToastContext.Provider>\n      {children}\n      <ToastContainer toasts={toasts} />\n      <ToastContainer toasts={toasts} onHide={removeToast} />\n    </ToastContext.Provider>\n  );\n};\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u5B9E\\u73B0\\u79FB\\u9664 Toast \\u7684\\u65B9\\u6CD5\",(0,e.jsx)(n.code,{children:\"removeToast\"}),\"\\uFF0C\\u5B83\\u63A5\\u53D7\\u53C2\\u6570\",(0,e.jsx)(n.code,{children:\"id\"}),\"\\uFF0C\\u7136\\u540E\\u5C06\\u5BF9\\u5E94\\u7684\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u4ECE\\u6570\\u7EC4\\u4E2D\\u79FB\\u9664\\uFF0C\\u5728\\u79FB\\u9664\\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"toast.onHideHandler\"}),\"\\u65B9\\u6CD5\\u3002\\u6211\\u4EEC\\u628A\\u8FD9\\u4E2A\\u65B9\\u6CD5\\u4F20\\u7ED9\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u8FD9\\u6837\\u4E00\\u6765\\uFF0C\\u5F53\",(0,e.jsx)(n.code,{children:\"<Toast/>\"}),\"\\u4E2D\\u7684\\u5B9A\\u65F6\\u5668\\u5230\\u671F\\u65F6\\uFF0C\\u5C31\\u4F1A\\u89E6\\u53D1\\u5176\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u65B9\\u6CD5\\uFF0C\\u4E5F\\u5373\",(0,e.jsx)(n.code,{children:\"<ToastContainer/>\"}),\"\\u4E2D\\u7684\",(0,e.jsx)(n.code,{children:\"onHide\"}),\"\\u65B9\\u6CD5\\uFF0C\\u5B9E\\u9645\\u4E0A\\u5C31\\u662F\\u8C03\\u7528\\u4E86\",(0,e.jsx)(n.code,{children:\"removeToast\"}),\"\\u65B9\\u6CD5\\uFF08\\u771F\\u7684\\u6709\\u70B9\\u7ED5\\u2026\\u2026\\uFF09\\u3002\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"\\u5BF9\\u5916\\u7684\\u201C\\u63A5\\u53E3\\u201D\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u641E\\u4E86\\u8FD9\\u4E48\\u4E45\\uFF0C\\u5B9E\\u9645\\u4E0A\\u6B64\\u65F6\\u6211\\u4EEC\\u7684 Context \\u8FD8\\u53EA\\u662F\\u4E2A\\u7A7A\\u58F3\\uFF0C\\u91CC\\u9762\\u5565\\u4E5F\\u6CA1\\u6709\\uFF0C\\u56E0\\u4E3A\\u6211\\u4EEC\\u8FD8\\u6CA1\\u6709\\u7ED9\\u5B83\\u4F20\\u8FC7\\u4EFB\\u4F55\\u7684\",(0,e.jsx)(n.code,{children:\"value\"}),\"\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u76F4\\u63A5\\u628A\",(0,e.jsx)(n.code,{children:\"addToast\"}),\"\\u65B9\\u6CD5\\u653E\\u5230 Context \\u91CC\\u516C\\u5F00\\uFF0C\\u4F46\\u6211\\u5E0C\\u671B\\u8C03\\u7528\\u7684\\u65B9\\u5F0F\\u66F4\\u52A0\\u201C\\u7075\\u6D3B\\u201D\\u4E00\\u4E9B\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`// \\u5355\\u4E2A\\u53C2\\u6570\ntoast(\"\\u8BBE\\u7F6E\\u6210\\u529F\\u3002\");\n// \\u4E24\\u4E2A\\u53C2\\u6570\ntoast(\"\\u8BBE\\u7F6E\\u6210\\u529F\\u3002\", () => doSomethingOnHide);\n// config \\u5BF9\\u8C61\ntoast(\"\\u8BBE\\u7F6E\\u6210\\u529F\\u3002\", { duration: 3000 });\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6BD4\\u5982\\u6211\\u4EEC\\u53EF\\u4EE5\\u53EA\\u4F20\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"message\"}),\"\\u53C2\\u6570\\uFF0C\\u4EE5\\u53CA\\u628A\",(0,e.jsx)(n.code,{children:\"duration\"}),\"\\u5305\\u8FDB\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"config\"}),\"\\u5BF9\\u8C61\\u4E2D\\uFF0C\\u65B9\\u4FBF\\u540E\\u7EED\\u589E\\u52A0\\u66F4\\u591A\\u7684\\u914D\\u7F6E\\u9879\\u3002\\u56E0\\u6B64\\u6211\\u4EEC\\u5728\",(0,e.jsx)(n.code,{children:\"addToast\"}),\"\\u5916\\u518D\\u5305\\u591A\\u4E00\\u5C42\\u65B9\\u6CD5\\uFF0C\\u7528\\u4E8E\\u5904\\u7406\\u8FD9\\u4E9B\\u53C2\\u6570\\u7684\\u95EE\\u9898\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastProvider.jsx del=24 add=6-14,17-21,25\",children:`const ToastProvider = ({ children }) => {\n  const [toasts, setToasts] = useState([]);\n\n  // \\u5176\\u4F59\\u90E8\\u5206\\u7565\n\n  const toast = (message, config = {}, onHideHandler, type = \"info\") => {\n    if (!message) return;\n    if (typeof config === \"function\") {\n      onHideHandler = config;\n      config = {};\n    }\n    const duration = config.duration || 3000;\n    addToast(message, duration, onHideHandler, type);\n  };\n\n  // toast.xxx \\u7684\\u8C03\\u7528\\u65B9\\u5F0F\n  [\"info\", \"error\", \"success\"].forEach((type) => {\n    toast[type] = (message, config, onHideHandler) => {\n      toast(message, config, onHideHandler, type);\n    };\n  });\n\n  return (\n    <ToastContext.Provider>\n    <ToastContext.Provider value={{ toast }}>\n      {children}\n      <ToastContainer toasts={toasts} />\n      <ToastContainer toasts={toasts} onHide={removeToast} />\n    </ToastContext.Provider>\n  );\n};\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u91CC\\u6211\\u4EEC\\u53EA\\u5BF9\\u5916\\u66B4\\u9732\\u4E00\\u4E2A\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u65B9\\u6CD5\\uFF0C\\u5B83\\u6709\\u591A\\u79CD\\u8C03\\u7528\\u65B9\\u5F0F\\u3002\\u65B9\\u6CD5\\u5185\\u90E8\\u5BF9\\u4F20\\u8FDB\\u6765\\u7684\\u53C2\\u6570\\u8FDB\\u884C\\u4E86\\u7B80\\u5355\\u7684\\u6821\\u9A8C\\uFF0C\\u518D\\u8F6C\\u4EA4\\u7ED9\",(0,e.jsx)(n.code,{children:\"addToast\"}),\"\\u5904\\u7406\\u3002\\u7531\\u4E8E JS \\u4E2D\\u51FD\\u6570\\u4E5F\\u662F\\u5BF9\\u8C61\\uFF0C\\u56E0\\u6B64\\u6211\\u4EEC\\u5728\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u5BF9\\u8C61\\u4E0A\\u6DFB\\u52A0\\u4E86\",(0,e.jsx)(n.code,{children:\"toast.info\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"toast.error\"}),\"\\u3001\",(0,e.jsx)(n.code,{children:\"toast.success\"}),\"\\u8FD9\\u51E0\\u4E2A\\u65B9\\u6CD5\\uFF0C\\u4FBF\\u4E8E\\u8C03\\u7528\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6700\\u540E\\u7684\\u6700\\u540E\\uFF0C\\u6211\\u4EEC\\u8FD8\\u9700\\u8981\\u5C01\\u4E0A\\u6700\\u540E\\u7684\\u4E00\\u5C42\\u65B9\\u6CD5\\u3002\\u6211\\u4EEC\\u628A\",(0,e.jsx)(n.code,{children:\"ToastProvider\"}),\"\\u4E2D\\u7684\",(0,e.jsx)(n.code,{children:\"ToastContext\"}),\"\\u5BFC\\u51FA\\uFF0C\\u518D\\u5F15\\u5165\\u5C01\\u88C5\\u6210\",(0,e.jsx)(n.code,{children:\"useToast\"}),\"\\u65B9\\u6CD5\\uFF0C\\u8FD9\\u6837\\u6211\\u4EEC\\u5C31\\u4E0D\\u9700\\u8981\\u5728\\u6BCF\\u6B21\\u9700\\u8981\\u4F7F\\u7528\\u7684\\u65F6\\u5019\\u81EA\\u5DF1\\u624B\\u52A8\\u53BB\",(0,e.jsx)(n.code,{children:\"useContext(ToastContext)\"}),\"\\u4E86\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"title=src/ToastProvider.jsx del=1 add=2\",children:`const ToastContext = createContext({});\nexport const ToastContext = createContext({});\n`})}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",metastring:\"title=src/useToast.js\",children:`import { useContext } from \"react\";\nimport { ToastContext } from \"./ToastProvider\";\n\nconst useToast = () => useContext(ToastContext);\n\nexport default useToast;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u6700\\u7EC8\\u7684\\u6548\\u679C\\u5C31\\u662F\\uFF0C\\u5F53\\u6211\\u4EEC\\u9700\\u8981\\u5728\\u67D0\\u4E2A\\u7EC4\\u4EF6\\u4E2D\\u5C55\\u793A Toast \\u7684\\u65F6\\u5019\\uFF0C\\u6211\\u4EEC\\u76F4\\u63A5\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"toast\"}),\"\\u65B9\\u6CD5\\u5373\\u53EF\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",children:`import useToast from \"./useToast\";\n\nconst ComponentA = () => {\n  const { toast } = useToast();\n\n  return <button onClick={() => toast(\"\\u5C01\\u88C5\\u5B8C\\u6210\\uFF01\")}>\\u70B9\\u51FB</button>;\n};\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u81F3\\u6B64\\uFF0C\\u6211\\u4EEC\\u7684 Toast \\u7EC4\\u4EF6\\u5C31\\u5DF2\\u7ECF\\u5C01\\u88C5\\u597D\\u4E86\\u3002\\u5F53\\u7136\\uFF0C\\u8FD9\\u53EA\\u662F\\u7B80\\u5355\\u7684\\u5C01\\u88C5\\uFF0C\\u5982\\u679C\\u60F3\\u8981\\u201C\\u53D1\\u4E2A\\u5305\\u201D\\u7684\\u8BDD\\uFF0C\\u8FD8\\u9700\\u8981\\u5B8C\\u5584\\u4E00\\u4E9B\\u8FB9\\u754C\\u6761\\u4EF6\\u7684\\u5904\\u7406\\uFF0C\\u4EE5\\u53CA\\u8865\\u5145\\u5355\\u5143\\u6D4B\\u8BD5\\u53CA\\u64B0\\u5199\\u4E00\\u4EFD\\u8BE6\\u7EC6\\u7684\\u6587\\u6863\\u7B49\\u3002\\u6709\\u65F6\\u95F4\\u518D\\u505A\\u5427\\uFF0C\\u6E9C\\u4E86\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{children:\"\\u53C2\\u8003\\u8D44\\u6599\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://reactjs.org/docs/lifting-state-up.html\",children:\"\\u72B6\\u6001\\u63D0\\u5347\\uFF08Lifting state up\\uFF09\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://kentcdodds.com/blog/prop-drilling\",children:\"\\u201CProp drilling\\u201D\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://kentcdodds.com/blog/how-to-use-react-context-effectively\",children:\"How to use React Context effectively\"})}),`\n`]})]})}function H(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,Object.assign({},t,{children:(0,e.jsx)(l,t)})):l(t)}var j=H;return f(P);})();\n;return Component;"},"__N_SSG":true}