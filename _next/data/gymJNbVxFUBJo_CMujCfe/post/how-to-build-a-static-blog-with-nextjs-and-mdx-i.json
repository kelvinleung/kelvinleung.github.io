{"pageProps":{"meta":{"title":"使用 Next.js 与 MDX 搭建一个静态博客（一）","date":"OCT 22, 2021","desc":"花了几天时间，重新搭了一个 blog。考虑到之前一直在写 Vue，这次想换 React 练练手，调研了一堆轮子后，花了九牛二虎之力才最终定下来，用 Next.js 和 MDX 来搭。过程中遇到了无数个坑，总结得到了这篇文章。","type":"horse-sense"},"code":"var Component=(()=>{var p=Object.create;var r=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),j=(t,e)=>{for(var o in e)r(t,o,{get:e[o],enumerable:!0})},i=(t,e,o,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!u.call(t,s)&&s!==o&&r(t,s,{get:()=>e[s],enumerable:!(c=h(e,s))||c.enumerable});return t};var x=(t,e,o)=>(o=t!=null?p(g(t)):{},i(e||!t||!t.__esModule?r(o,\"default\",{value:t,enumerable:!0}):o,t)),b=t=>i(r({},\"__esModule\",{value:!0}),t);var l=f((A,a)=>{a.exports=_jsx_runtime});var P={};j(P,{default:()=>D,frontmatter:()=>y});var n=x(l()),y={title:\"\\u4F7F\\u7528 Next.js \\u4E0E MDX \\u642D\\u5EFA\\u4E00\\u4E2A\\u9759\\u6001\\u535A\\u5BA2\\uFF08\\u4E00\\uFF09\",date:\"OCT 22, 2021\",desc:\"\\u82B1\\u4E86\\u51E0\\u5929\\u65F6\\u95F4\\uFF0C\\u91CD\\u65B0\\u642D\\u4E86\\u4E00\\u4E2A blog\\u3002\\u8003\\u8651\\u5230\\u4E4B\\u524D\\u4E00\\u76F4\\u5728\\u5199 Vue\\uFF0C\\u8FD9\\u6B21\\u60F3\\u6362 React \\u7EC3\\u7EC3\\u624B\\uFF0C\\u8C03\\u7814\\u4E86\\u4E00\\u5806\\u8F6E\\u5B50\\u540E\\uFF0C\\u82B1\\u4E86\\u4E5D\\u725B\\u4E8C\\u864E\\u4E4B\\u529B\\u624D\\u6700\\u7EC8\\u5B9A\\u4E0B\\u6765\\uFF0C\\u7528 Next.js \\u548C MDX \\u6765\\u642D\\u3002\\u8FC7\\u7A0B\\u4E2D\\u9047\\u5230\\u4E86\\u65E0\\u6570\\u4E2A\\u5751\\uFF0C\\u603B\\u7ED3\\u5F97\\u5230\\u4E86\\u8FD9\\u7BC7\\u6587\\u7AE0\\u3002\",type:\"horse-sense\"};function d(t){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",h2:\"h2\",a:\"a\",ul:\"ul\",li:\"li\",code:\"code\",h3:\"h3\",pre:\"pre\",img:\"img\",strong:\"strong\",ol:\"ol\"},t.components),{TicTacToe:o}=e;return o||w(\"TicTacToe\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:['\"In some ways, programming is like painting. You start with a blank canvas and certain basic raw materials. You use a combination of science, art, and craft to determine what to do with them.\"',(0,n.jsx)(\"br\",{}),(0,n.jsx)(\"br\",{}),\"-- Andrew Hunt\"]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{children:\"Why?\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u82B1\\u4E86\\u51E0\\u5929\\u65F6\\u95F4\\uFF0C\\u91CD\\u65B0\\u642D\\u4E86\\u4E00\\u4E2A blog\\u3002\\u8003\\u8651\\u5230\\u4E4B\\u524D\\u4E00\\u76F4\\u5728\\u5199 Vue\\uFF0C\\u8FD9\\u6B21\\u60F3\\u6362 React \\u7EC3\\u7EC3\\u624B\\uFF0C\\u8C03\\u7814\\u4E86\\u4E00\\u5806\\u8F6E\\u5B50\\u540E\\uFF0C\\u82B1\\u4E86\\u4E5D\\u725B\\u4E8C\\u864E\\u4E4B\\u529B\\u624D\\u6700\\u7EC8\\u5B9A\\u4E0B\\u6765\\uFF0C\\u7528 \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"Next.js\"}),\" \\u548C \",(0,n.jsx)(e.a,{href:\"https://mdxjs.com/\",children:\"MDX\"}),\" \\u6765\\u642D\\u3002\\u8FC7\\u7A0B\\u4E2D\\u9047\\u5230\\u4E86\\u65E0\\u6570\\u4E2A\\u5751\\uFF0C\\u603B\\u7ED3\\u5F97\\u5230\\u4E86\\u8FD9\\u7BC7\\u6587\\u7AE0\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E4B\\u6240\\u4EE5\\u9009\\u62E9 Next.js \\u52A0 MDX\\uFF0C\\u4E3B\\u8981\\u662F\\u8003\\u8651\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u9700\\u6C42\\uFF1A\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\u57FA\\u4E8E React\\uFF0C\\u65B9\\u4FBF\\u7EC3\\u624B\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u57FA\\u4E8E Markdown\\uFF0C\\u4E0D\\u7528\\u89E3\\u91CA\\u4E86\\u5427\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u9875\\u9762\\u3001\\u4E3B\\u9898\\u80FD\\u968F\\u4FBF\\u6539\\uFF0C\\u6700\\u597D\\u80FD\\u4ECE\\u96F6\\u5F00\\u59CB\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6700\\u7EC8\\u6253\\u5305\\u6210\\u9759\\u6001\\u9875\\u9762\\uFF0C\\u65B9\\u4FBF\\u76F4\\u63A5\\u4E22\\u5230 Github Pages \\u4E0A\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6709\\u811A\\u624B\\u67B6\\uFF0C\\u9879\\u76EE\\u914D\\u7F6E\\u7B80\\u5355\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u4E0A\\u8FF0\\u51E0\\u4E2A\\u9700\\u6C42\\uFF0CNext.js \\u90FD\\u80FD\\u5B8C\\u7F8E\\u6EE1\\u8DB3\\uFF0C\\u6574\\u4E2A\\u5F00\\u53D1\\u4F53\\u9A8C\\u4E5F\\u662F\\u76F8\\u5F53\\u4F18\\u79C0\\uFF0C\\u8DDF\\u7740\\u6587\\u6863\\u8D70\\u4E00\\u904D\\u57FA\\u672C\\u5C31\\u80FD\\u642D\\u51FA\\u6765\\u3002\\u5269\\u4E0B\\u7684\\u5C31\\u662F\\u627E\\u5404\\u79CD\\u4F18\\u5316\\u7684\\u63D2\\u4EF6\\uFF0C\\u4EE5\\u53CA\\u65E0\\u4F11\\u6B62\\u5730\\u4FEE\\u6539\\u9875\\u9762\\u6837\\u5F0F\\u3002\"}),`\n`,(0,n.jsx)(o,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9879\\u76EE\\u6700\\u5F00\\u59CB\\u642D\\u5EFA\\u7684\\u65F6\\u5019\\uFF0C\\u672C\\u6765\\u6253\\u7B97\\u4E3B\\u8981\\u5199\\u5199\\u6587\\u7AE0\\uFF0C\\u6240\\u4EE5\\u7528\\u7684\\u662F\\u7EAF MD \\u6765\\u5199\\u3002\\u540E\\u6765\\u53D1\\u73B0\\u4E86\",(0,n.jsx)(e.a,{href:\"https://www.joshwcomeau.com/\",children:\"\\u8FD9\\u4E2A\\u7F51\\u7AD9\"}),\"\\uFF0C\\u91CC\\u5934\\u7684\",(0,n.jsx)(e.a,{href:\"https://www.joshwcomeau.com/blog/how-i-built-my-blog/\",children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\"}),\"\\u6709\\u4ECB\\u7ECD\\u4F5C\\u8005\\u662F\\u600E\\u6837\\u642D\\u5EFA\\u4ED6\\u7684 blog \\u7684\\uFF0C\\u7528\\u5230\\u7684\\u662F MDX\\u3002\\u5176\\u5B9E MDX \\u5C31\\u662F\\u80FD\\u5728 MD \\u6587\\u4EF6\\u91CC\\u63D2\\u5165 React \\u7684\\u7EC4\\u4EF6\\uFF0C\\u662F MD \\u7684\\u62D3\\u5C55\\u3002\\u5F53\\u65F6\\u6211\\u60F3\\uFF0C\\u5982\\u679C\\u5728\\u6587\\u7AE0\\u91CC\\u52A0\\u4E00\\u4E9B\\u81EA\\u5B9A\\u4E49\\u7684\\u7EC4\\u4EF6\\uFF0C\\u7528\\u6765\\u505A\\u6F14\\u793A\\uFF0C\\u6548\\u679C\\u5E94\\u8BE5\\u633A\\u597D\\u7684\\uFF0C\\u5C31\\u50CF\\u4E0A\\u9762\\u7684\",(0,n.jsx)(e.code,{children:\"TicTacToe\"}),\"\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next.js \\u96C6\\u6210 MDX \\u6709\\u76F8\\u5F53\\u591A\\u65B9\\u6848\\uFF0C\\u5E76\\u4E14\\u6BCF\\u4E2A\\u90FD\\u6709\\u5751\\u3002\",(0,n.jsx)(e.a,{href:\"https://dev.to/tylerlwsmith/quick-comparison-of-mdx-integration-strategies-with-next-js-1kcm\",children:\"\\u8FD9\\u7BC7\\u6587\\u7AE0\"}),\"\\u6709\\u7B80\\u5355\\u7684\\u5BF9\\u6BD4\\uFF0C\\u611F\\u5174\\u8DA3\\u7684\\u53EF\\u4EE5\\u4E86\\u89E3\\u4E00\\u4E0B\\u3002\\u4E00\\u5F00\\u59CB\\u6211\\u5C1D\\u8BD5\\u7528\",(0,n.jsx)(e.code,{children:\"mdx-bundler\"}),\"\\u6765\\u89E3\\u91CA MDX \\u6587\\u4EF6\\uFF0C\\u7B2C\\u4E00\\u7248\\u51FA\\u6765\\u7684\\u6548\\u679C\\u8FD8\\u884C\\uFF0C\\u53EA\\u662F\\u5361\\u5728\\u4E86\\u751F\\u6210\\u76EE\\u5F55\\u4E0A\\u3002\\u540E\\u9762\\u53D1\\u73B0 \",(0,n.jsx)(e.a,{href:\"https://beta.reactjs.org/\",children:\"React \\u7684\\u6587\\u6863\"}),\"\\u5C45\\u7136\\u66F4\\u65B0\\u4E86\\uFF0C\\u540C\\u6837\\u662F\\u57FA\\u4E8E Next.js \\u548C MDX\\u3002\\u4E8E\\u662F\\u6211\\u8D76\\u7D27 clone \\u4E0B\\u6765\\uFF0C\\u53D1\\u73B0\\u4ED6\\u4EEC\\u7528\\u7684\\u662F\",(0,n.jsx)(e.code,{children:\"@mdx-js/loader\"}),\"\\u3002\\u6298\\u817E\\u4E86\\u4E00\\u756A\\u4E4B\\u540E\\uFF0C\\u6211\\u6700\\u7EC8\\u8FD8\\u662F\\u6362\\u56DE\\u4E86\",(0,n.jsx)(e.code,{children:\"mdx-bundler\"}),\"\\u3002\"]}),`\n`,(0,n.jsx)(e.h2,{children:\"How?\"}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u7B2C\\u4E00\\u6B65\\uFF1A\\u5148\\u8DD1\\u8D77\\u6765\\u518D\\u8BF4\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5176\\u5B9E Next.js \\u5B98\\u65B9\\u6709\\u4E00\\u4E2A\\u6BD4\\u8F83\\u5B8C\\u6574\\u7684\",(0,n.jsx)(e.a,{href:\"https://nextjs.org/learn/basics/create-nextjs-app\",children:\"\\u65B0\\u624B\\u6559\\u7A0B\"}),\"\\uFF0C\\u8DDF\\u7740\\u5B83\\u8D70\\u5B8C\\uFF0C\\u5C31\\u53EF\\u4EE5\\u628A\\u4E00\\u4E2A\\u57FA\\u4E8E markdown \\u7684 blog \\u8DD1\\u8D77\\u6765\\u3002\\u6216\\u8005\\u901A\\u8FC7\",(0,n.jsx)(e.a,{href:\"https://github.com/vercel/next.js/tree/canary/examples/blog-starter\",children:\"\\u8FD9\\u4E2A\\u6A21\\u677F\"}),\"\\u4E5F\\u53EF\\u4EE5\\u8FBE\\u5230\\u540C\\u6837\\u7684\\u6548\\u679C\\u3002\\u7136\\u800C\\uFF0C\\u4F5C\\u4E3A\\u7EC3\\u624B\\u9879\\u76EE\\uFF0C\\u5F53\\u7136\\u5F97\\u4ECE\\u96F6\\u5F00\\u59CB\\uFF0C\\u91CD\\u65B0\\u9020\\u4E2A\\u8F6E\\u5B50\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5148\\u901A\\u8FC7\\u4E0B\\u9762\\u7684\\u547D\\u4EE4\\uFF0C\\u5F97\\u5230\\u4E00\\u4E2A\\u201C\\u7EAF\\u51C0\\u7248\\u201D\\u7684 next app\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`yarn create next-app my-blog\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FDB\\u5165\\u9879\\u76EE\\u6839\\u76EE\\u5F55\\u5E76\\u8FD0\\u884C\",(0,n.jsx)(e.code,{children:\"yarn dev\"}),\"\\u540E\\u8BBF\\u95EE\",(0,n.jsx)(e.code,{children:\"http://localhost:3000\"}),\"\\uFF0C\\u5982\\u679C\\u80FD\\u770B\\u5230\\u4E0B\\u9762\\u7684\\u9875\\u9762\\uFF0C\\u5C31\\u8BC1\\u660E\\u9879\\u76EE\\u5DF2\\u7ECF\\u987A\\u5229\\u8DD1\\u8D77\\u6765\\u4E86\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/how-to-build-a-static-blog-with-nextjs-and-mdx-i/welcome-screen.png\",alt:\"\\u811A\\u624B\\u67B6\\u9996\\u9875\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6B64\\u65F6\\u9879\\u76EE\\u7684\\u76EE\\u5F55\\u7ED3\\u6784\\u662F\\u8FD9\\u6837\\u7684\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`pages/  # \\u76EE\\u5F55\\u4E2D\\u7684 js \\u6587\\u4EF6\\u5C06\\u88AB\\u89E3\\u6790\\u751F\\u6210\\u9875\\u9762\n|--- _app.js  # \\u5168\\u5C40\\u5E03\\u5C40\\u3001\\u6837\\u5F0F\\u5728\\u8FD9\\u91CC\\u8BBE\\u7F6E\n|--- index.js  # \\u901A\\u8FC7 http://yoursite/ \\u6765\\u8BBF\\u95EE\n|--- api/  # API \\u8DEF\\u7531\\uFF0C\\u53EF\\u4EE5\\u7528\\u6765\\u5B9E\\u73B0 severless \\u51FD\\u6570\n     |--- hello.js  # \\u901A\\u8FC7 http://yoursite/api/hello \\u6765\\u8BBF\\u95EE\\uFF0C\\u7528\\u4E0D\\u5230\\uFF0C\\u53EF\\u5FFD\\u7565\npublic/  # \\u653E\\u56FE\\u7247\\u3001\\u56FE\\u6807\\u7B49\\u9759\\u6001\\u8D44\\u6E90\nstyles/  # \\u653E css \\u6587\\u4EF6\nnext.config.js  # Next.js \\u7684\\u914D\\u7F6E\\u6587\\u4EF6\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u9762\\u770B\\u5230\\u7684\\u9996\\u9875\\uFF0C\\u5176\\u5B9E\\u5C31\\u662F\",(0,n.jsx)(e.code,{children:\"pages/index.js\"}),\"\\u91CC\\u7684\\u4E1C\\u897F\\u3002Next.js \\u5F00\\u7BB1\\u5373\\u652F\\u6301\\u9875\\u9762\\u8DEF\\u7531\\uFF0C\\u4E0D\\u9700\\u8981\\u7E41\\u7410\\u5730\\u914D\\u7F6E React Router\\uFF0C\\u4EC5\\u9700\\u8981\\u5728\",(0,n.jsx)(e.code,{children:\"pages/\"}),\"\\u76EE\\u5F55\\u4E0B\\u65B0\\u589E\\u4E00\\u4E2A\\u6587\\u4EF6\\uFF0C\\u6BD4\\u5982\",(0,n.jsx)(e.code,{children:\"pages/about.js\"}),\"\\uFF0C\\u5E76\\u5728\\u91CC\\u9762\\u5BFC\\u51FA\\u4E00\\u4E2A\\u7EC4\\u4EF6\\uFF0C\\u5982\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=pages/about.js\",children:`export default function About() {\n  return <h1>Hello World!</h1>;\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u5C31\\u53EF\\u4EE5\\u901A\\u8FC7\",(0,n.jsx)(e.code,{children:\"http://localhost:3000/about\"}),\"\\u6765\\u8BBF\\u95EE\\u8FD9\\u4E2A\\u9875\\u9762\\u4E86\\uFF0C\\u7B80\\u5355\\u5230\\u4EE4\\u4EBA\\u53D1\\u6307\\uFF01\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6574\\u4E2A\",(0,n.jsx)(e.code,{children:\"pages/\"}),\"\\u76EE\\u5F55\\u5C31\\u76F8\\u5F53\\u4E8E\\u4E00\\u4E2A\\u8DEF\\u7531\\u8868\\uFF0C\\u5F53\\u9700\\u8981\\u589E\\u52A0\\u9875\\u9762\\u8DEF\\u7531\\u65F6\\uFF0C\\u5728\\u76F8\\u5E94\\u7684\\u76EE\\u5F55\\u4E0B\\u65B0\\u5EFA\\u6587\\u4EF6\\u5373\\u53EF\\u3002\\u6211\\u4EEC\\u7684\\u6587\\u7AE0\\u4EE5 MDX \\u6587\\u4EF6\\u7684\\u5F62\\u5F0F\\u653E\\u5728\",(0,n.jsx)(e.code,{children:\"posts/\"}),\"\\u76EE\\u5F55\\u4E2D\\u3002\\u901A\\u8FC7\\u201C\\u52A8\\u6001\\u201D\\u7684\\u65B9\\u5F0F\\u751F\\u6210\\uFF0C\\u9875\\u9762\\u7684\\u89E3\\u6790\\u903B\\u8F91\\u5199\\u5728\",(0,n.jsx)(e.code,{children:\"pages/post/[id].js\"}),\"\\u6587\\u4EF6\\u4E2D\\uFF0C\\u901A\\u8FC7\\u94FE\\u63A5\",(0,n.jsx)(e.code,{children:\"http://localhost:3000/post/:id\"}),\"\\u6765\\u8BBF\\u95EE\\u76F8\\u5E94\\u7684\\u6587\\u7AE0\\uFF0C\\u5177\\u4F53\\u914D\\u7F6E\\u540E\\u9762\\u4F1A\\u8BF4\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8981\\u6CE8\\u610F\\u7684\\u662F\\uFF0C\\u9ED8\\u8BA4\\u60C5\\u51B5\\u4E0B\\uFF0CNext.js \\u53EA\\u4F1A\\u89E3\\u6790 JS \\u6587\\u4EF6\\uFF0C\\u9700\\u8981\\u5728\",(0,n.jsx)(e.code,{children:\"next.config.js\"}),\"\\u6587\\u4EF6\\u4E2D\\u4FEE\\u6539\\u914D\\u7F6E\\u6765\\u652F\\u6301\\u66F4\\u591A\\u6587\\u4EF6\\u7C7B\\u578B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=next.config.js\",children:`module.exports = {\n  pageExtensions: [\"js\", \"jsx\", \"md\", \"mdx\"],\n};\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9664\\u6B64\\u4E4B\\u5916\\uFF0C\\u5E76\\u4E0D\\u662F\\u6240\\u6709\\u5728\",(0,n.jsx)(e.code,{children:\"pages/\"}),\"\\u76EE\\u5F55\\u4E0B\\u7684\\u6587\\u4EF6\\u90FD\\u4F1A\\u88AB\\u89E3\\u6790\\u751F\\u6210\\u9875\\u9762\\uFF0C\\u4F8B\\u5916\\u7684\\u6709\",(0,n.jsx)(e.code,{children:\"api/\"}),\"\\u76EE\\u5F55\\u53CA\",(0,n.jsx)(e.code,{children:\"_app.js\"}),\"\\u3002\\u5176\\u4E2D\",(0,n.jsx)(e.code,{children:\"api/\"}),\"\\u76EE\\u5F55\\u4E3B\\u8981\\u7528\\u4E8E severless \\u51FD\\u6570\\uFF0C\\u6682\\u65F6\\u7528\\u4E0D\\u4E0A\\uFF0C\\u53EF\\u4EE5\\u6574\\u4E2A\\u5220\\u6389\\u5B8C\\u5168\\u5FFD\\u7565\\u3002\\u800C\",(0,n.jsx)(e.code,{children:\"pages/_app.js\"}),\"\\u8FD9\\u4E2A\\u6587\\u4EF6\\uFF0C\\u53EF\\u4EE5\\u7528\\u6765\\u8FDB\\u884C\\u4E00\\u4E9B\\u5168\\u5C40\\u7684\\u914D\\u7F6E\\u3002\\u9ED8\\u8BA4\\u751F\\u6210\\u7684\",(0,n.jsx)(e.code,{children:\"pages/_app.js\"}),\"\\u6587\\u4EF6\\u5185\\u5BB9\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=pages/_app.js\",children:`function MyApp({ Component, pageProps }) {\n  return <Component {...pageProps} />;\n}\n\nexport default MyApp;\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7C7B\\u6BD4 React Router\\uFF0C\",(0,n.jsx)(e.code,{children:\"MyApp\"}),\"\\u76F8\\u5F53\\u4E8E\\u90A3\\u4E2A\\u88AB\",(0,n.jsx)(e.code,{children:\"BrowserRouter\"}),\"\\u5305\\u88F9\\u7684\\u201C\\u5168\\u5C40\\u201D\\u7EC4\\u4EF6\\u3002\\u4F20\\u7ED9\\u5B83\\u7684\",(0,n.jsx)(e.code,{children:\"Component\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u5219\\u5BF9\\u5E94\\u4E86\",(0,n.jsx)(e.code,{children:\"pages/\"}),\"\\u76EE\\u5F55\\u4E0B\\u6BCF\\u4E00\\u4E2A\\u5C06\\u8981\\u88AB\\u89E3\\u6790\\u7684\\u6587\\u4EF6\\u4E2D\\u9ED8\\u8BA4\\u5BFC\\u51FA\\u7684\\u7EC4\\u4EF6\\uFF0C\\u76F8\\u5F53\\u4E8E\\u6BCF\\u4E2A\",(0,n.jsx)(e.code,{children:\"Route\"}),\"\\u3002\\u5982\\u89E3\\u6790\",(0,n.jsx)(e.code,{children:\"pages/about.js\"}),\"\\u8FD9\\u4E2A\\u6587\\u4EF6\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"Component = Aboubt\"}),\"\\uFF0C\",(0,n.jsx)(e.code,{children:\"/about\"}),\"\\u8FD9\\u4E2A\\u8DEF\\u7531\\u5C31\\u6307\\u5411\\u4E86\",(0,n.jsx)(e.code,{children:\"About\"}),\"\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u6B64\\u65F6\\uFF0C\\u9879\\u76EE\\u7684\\u76EE\\u5F55\\u7ED3\\u6784\\u8C03\\u6574\\u4E3A\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`pages/  # \\u76EE\\u5F55\\u4E2D\\u7684 js \\u6587\\u4EF6\\u5C06\\u88AB\\u89E3\\u6790\\u751F\\u6210\\u9875\\u9762\n|--- _app.js  # \\u5168\\u5C40\\u5E03\\u5C40\\u3001\\u6837\\u5F0F\\u5728\\u8FD9\\u91CC\\u8BBE\\u7F6E\n|--- index.js  # \\u901A\\u8FC7 http://yoursite/ \\u6765\\u8BBF\\u95EE\nposts/  # \\u6587\\u7AE0\\u76EE\\u5F55\\uFF0C\\u653E mdx \\u6587\\u4EF6\npublic/  # \\u653E\\u56FE\\u7247\\u3001\\u56FE\\u6807\\u7B49\\u9759\\u6001\\u8D44\\u6E90\nstyles/  # \\u653E css \\u6587\\u4EF6\nnext.config.js  # Next.js \\u7684\\u914D\\u7F6E\\u6587\\u4EF6\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u7B2C\\u4E8C\\u6B65\\uFF1A\\u5199\\u4E2A\\u5E03\\u5C40\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u53EF\\u4EE5\\u5229\\u7528\",(0,n.jsx)(e.code,{children:\"pages/_app.js\"}),\"\\u6765\\u7ED9\\u6240\\u6709\\u9875\\u9762\\u589E\\u52A0\\u6240\\u6709\\u9875\\u9762\\u7684\\u5168\\u5C40\\u914D\\u7F6E\\uFF0C\\u5982\\u9875\\u9762\\u5934\\u7684\\u4FE1\\u606F\\uFF0C\\u5E03\\u5C40\\u7B49\\u3002\\u9996\\u5148\\uFF0C\\u5728\\u6839\\u76EE\\u5F55\\u4E0B\\u65B0\\u5EFA\",(0,n.jsx)(e.code,{children:\"components/\"}),\"\\u76EE\\u5F55\\uFF0C\\u628A\\u81EA\\u5B9A\\u4E49\\u7684\\u7EC4\\u4EF6\\u90FD\\u4E22\\u8FDB\\u53BB\\u65B9\\u4FBF\\u7BA1\\u7406\\u3002\\u521B\\u5EFA\\u51E0\\u4E2A\\u9875\\u9762\\u5E03\\u5C40\\u7528\\u7684\\u7EC4\\u4EF6\\uFF0C\\u50CF\",(0,n.jsx)(e.code,{children:\"NavBar\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"Footer\"}),\"\\u8FD9\\u4E9B\\u3002\\u7136\\u540E\\u521B\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"Layout\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u5C06\\u8FD9\\u4E9B\\u7528\\u4E8E\\u5E03\\u5C40\\u7684\\u7EC4\\u4EF6\\u50CF\\u4E0A\\u9762\\u4E00\\u6837\\u90FD\\u5F15\\u8FDB\\u6765\\u3002\\u518D\\u5229\\u7528 Next.js \\u81EA\\u5E26\\u7684\",(0,n.jsx)(e.code,{children:\"Head\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u6DFB\\u52A0\\u9875\\u9762\\u6807\\u9898\\uFF0Cicon\\uFF0C\\u5404\\u79CD SEO \\u7684\\u6807\\u7B7E\\u7B49\\u3002\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=components/Layout.jsx\",children:`import Head from \"next/head\";\nimport NavBar from \"./Navbar\";\nimport Footer from \"./Footer\";\n\nconst PAGE_TITLE = \"Kelvin's Blog\";\nconst PAGE_DESCRIPTION = \"Kelvin's blog\";\n\nexport default function Layout({ children }) {\n  return (\n    <>\n      // \\u5C06\\u88AB\\u6DFB\\u52A0\\u5230\\u6240\\u6709\\u9875\\u9762\\u5934\n      <Head>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <meta charSet=\"utf-8\" />\n        <meta name=\"description\" content={PAGE_DESCRIPTION} />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n        <title>{PAGE_TITLE}</title>\n      </Head>\n      // \\u6240\\u6709\\u9875\\u9762\\u901A\\u7528\\u7684\\u5E03\\u5C40\n      <div className=\"container\">\n        <NavBar />\n        <main className=\"main\">{children}</main>\n        <Footer />\n      </div>\n    </>\n  );\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5C06\",(0,n.jsx)(e.code,{children:\"Layout\"}),\"\\u7EC4\\u4EF6\\u5F15\\u5165\\u5230\",(0,n.jsx)(e.code,{children:\"pages/_app.js\"}),\"\\u4E2D\\uFF0C\\u50CF\\u4E0B\\u9762\\u8FD9\\u6837\\u5305\\u4F4F\",(0,n.jsx)(e.code,{children:\"<Component />\"}),\"\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5B9E\\u73B0\\u5168\\u5C40\\u7684\\u5E03\\u5C40\\u4E86\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=pages/_app.js\",children:`import Layout from \"components/Layout\";\nimport \"styles/main.scss\";\n\nfunction MyApp({ Component, pageProps }) {\n  return (\n    <Layout>\n      <Component {...pageProps} />\n    </Layout>\n  );\n}\n\nexport default MyApp;\n`})}),`\n`,(0,n.jsx)(e.h3,{children:\"\\u7B2C\\u4E09\\u6B65\\uFF1A\\u5199\\u4E2A\\u9996\\u9875\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/images/how-to-build-a-static-blog-with-nextjs-and-mdx-i/home.png\",alt:\"Blog \\u9996\\u9875\"})}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5199\\u5B8C\\u57FA\\u672C\\u7684\\u5E03\\u5C40\\uFF0C\\u662F\\u65F6\\u5019\\u6765\\u5199\\u9996\\u9875\\u4E86\\u3002Blog \\u7684\\u9996\\u9875\\u6BD4\\u8F83\\u7B80\\u5355\\uFF0C\\u5C31\\u662F\\u4E00\\u4E2A\\u6587\\u7AE0\\u7684\\u5217\\u8868\\uFF0C\\u5305\\u62EC\\u6587\\u7AE0\\u7684\\u6807\\u9898\\u3001\\u53D1\\u8868\\u65E5\\u671F\\u3001\\u7B80\\u4ECB\\u7B49\\u3002\\u8FD9\\u4E9B\\u6570\\u636E\\uFF0C\\u4F1A\\u5728 Next.js \\u6253\\u5305\\u65F6\\uFF0C\\u4F20\\u7ED9\\u9996\\u9875\\u7EC4\\u4EF6\\u3002\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Next.js \\u652F\\u6301 SSG \\u548C SSR \\u7684\\u65B9\\u5F0F\\u53BB\\u751F\\u6210\\u9875\\u9762\\uFF0C\\u6211\\u4EEC\\u662F\\u7EAF\\u9759\\u6001\\u9875\\u9762\\uFF0C\\u4E0D\\u8003\\u8651 SSR\\u3002\\u5728 SSG \\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0CNext.js \\u63D0\\u4F9B\\u4E86\",(0,n.jsx)(e.code,{children:\"getStaticProps()\"}),\"\\u94A9\\u5B50\\uFF0C\\u53EF\\u4EE5\\u5728\\u751F\\u6210\\u9875\\u9762\\u7684\\u65F6\\u5019\\u53BB\\u505A\\u4E00\\u4E9B\\u989D\\u5916\\u7684\\u5904\\u7406\\uFF0C\\u6BD4\\u5982\\u4ECE\\u6570\\u636E\\u5E93\\u4E2D\\u83B7\\u53D6\\u6570\\u636E\\uFF0C\\u538B\\u7F29\\u56FE\\u7247\\u7B49\\u3002\\u8FD9\\u4E9B\\u5904\\u7406\\u8FC7\\u7684\\u6570\\u636E\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\",(0,n.jsx)(e.code,{children:\"getStaticProps()\"}),\"\\u8FD4\\u56DE\\u7684\\u5BF9\\u8C61\\uFF08\",(0,n.jsx)(e.code,{children:\"props\"}),\"\\uFF09\\u4F20\\u9012\\u7ED9\\u9875\\u9762\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5047\\u8BBE\\u6211\\u4EEC\\u6709\\u4E00\\u4E2A\\u83B7\\u53D6\\u6587\\u7AE0\\u6570\\u636E\\u7684\",(0,n.jsx)(e.code,{children:\"getAllPosts()\"}),\"\\u51FD\\u6570\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\",(0,n.jsx)(e.code,{children:\"pages/index.js\"}),\"\\u4E2D\\u5BFC\\u51FA\\u4E00\\u4E2A\\u5F02\\u6B65\\u51FD\\u6570\",(0,n.jsx)(e.code,{children:\"getStaticProps\"}),\"\\uFF0C\\u5728\\u8FD9\\u4E2A\\u51FD\\u6570\\u4E2D\\u8C03\\u7528\",(0,n.jsx)(e.code,{children:\"getAllPosts\"}),\"\\uFF0C\\u5C06\\u83B7\\u53D6\\u5230\\u7684\\u6587\\u7AE0\\u6570\\u636E\",(0,n.jsx)(e.code,{children:\"postsData\"}),\"\\u5305\\u88F9\\u5728\\u4E00\\u4E2A\\u5BF9\\u8C61\\u4E2D\\u8FD4\\u56DE\\u51FA\\u6765\\uFF08\\u4F5C\\u4E3A\",(0,n.jsx)(e.code,{children:\"props\"}),\"\\u5C5E\\u6027\\u7684\\u503C\\uFF09\\u3002Next.js \\u5C31\\u4F1A\\u5728 SSG \\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u4EE5\",(0,n.jsx)(e.code,{children:\"props\"}),\"\\u7684\\u5F62\\u5F0F\\u5C06\\u8FD9\\u4E2A\\u8FD4\\u56DE\\u503C\\u4F20\\u9012\\u7ED9\",(0,n.jsx)(e.code,{children:\"Home\"}),\"\\u7EC4\\u4EF6\\u3002\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=pages/index.js\",children:`function getAllPosts() {\n  // \\u83B7\\u53D6\\u6587\\u7AE0\\u6570\\u636E\n}\n\n// \\u5728\\u6253\\u5305\\u65F6\\u8C03\\u7528\\uFF0C\\u8FD4\\u56DE props \\u7ED9 Home \\u7EC4\\u4EF6\\u751F\\u6210\\u9996\\u9875\nexport async function getStaticProps() {\n  const postsData = getAllPosts();\n  return {\n    props: {\n      postsData,\n    },\n  };\n}\n\nexport default function Home({ postsData }) {\n  // \\u9996\\u9875\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u90A3\\u4E48\\u95EE\\u9898\\u6765\\u4E86\\uFF0C\\u8FD9\\u4E2A\",(0,n.jsx)(e.code,{children:\"getAllPosts()\"}),\"\\u51FD\\u6570\\uFF0C\\u8BE5\\u600E\\u4E48\\u5F04\\u5462\\uFF1F\\u524D\\u9762\\u8BB2\\u8FC7\\uFF0C\\u6700\\u7EC8\\u6211\\u4EEC\\u662F\\u8981\\u7528 MDX \\u6587\\u4EF6\\u6765\\u5199\\u6587\\u7AE0\\uFF0C\\u653E\\u5728\",(0,n.jsx)(e.code,{children:\"posts/\"}),\"\\u8FD9\\u4E2A\\u76EE\\u5F55\\u4E0B\\uFF0C\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`posts/\n|--- first-post.mdx   # => http://localhost:3000/post/first-post\n|--- second-post.mdx  # => http://localhost:3000/post/second-post\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u90A3\\u4E48\\u6709\\u6CA1\\u6709\\u53EF\\u80FD\\uFF0C\\u5728\\u8FD9\\u4E9B\\u6587\\u4EF6\\u4E2D\\u8BB0\\u5F55\\u6807\\u9898\\u3001\\u53D1\\u8868\\u65E5\\u671F\\u3001\\u7B80\\u4ECB\\u3001\\u5206\\u7C7B\\u7B49\\u4FE1\\u606F\\uFF0C\\u7136\\u540E\\u904D\\u5386\\u8FD9\\u4E2A\\u76EE\\u5F55\\u4E0B\\u7684\\u6240\\u6709\\u6587\\u4EF6\\uFF0C\\u53D6\\u51FA\\u8FD9\\u4E9B\\u6570\\u636E\\u5462\\uFF1F\\u6709\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u7528\\u5230 \",(0,n.jsx)(e.strong,{children:\"frontmatter\"}),\"\\uFF01\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Frontmatter \\u662F markdown \\u7684\\u63D2\\u4EF6\\uFF0C\\u901A\\u8FC7\\u5728 MD \\u6587\\u4EF6\\u5934\\u63D2\\u5165\\u952E\\u503C\\u5BF9\\u7684\\u65B9\\u5F0F\\uFF0C\\u5B58\\u50A8\\u6709\\u5173\\u6587\\u4EF6\\u7684\\u5143\\u6570\\u636E\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u901A\\u8FC7 frontmatter \\u6765\\u5B58\\u50A8\\u6807\\u9898\\u3001\\u53D1\\u8868\\u65E5\\u671F\\u3001\\u7B80\\u4ECB\\u8FD9\\u4E9B\\u4FE1\\u606F\\uFF0C\\u683C\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-md\",children:`---\ntitle: \"\\u4F7F\\u7528 Next.js \\u4E0E MDX \\u642D\\u5EFA\\u4E00\\u4E2A\\u9759\\u6001\\u535A\\u5BA2\"\ndate: \"OCT 22, 2021\"\ndesc: \"\\u82B1\\u4E86\\u51E0\\u5929\\u65F6\\u95F4\\uFF0C\\u91CD\\u65B0\\u642D\\u4E86\\u4E00\\u4E2A blog\\u3002\"\ntype: \"horse-sense\"\n---\n\n\\u6587\\u7AE0\\u6B63\\u6587\\u90E8\\u5206\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.a,{href:\"https://github.com/jonschlinkert/gray-matter\",children:\"gray-matter\"}),\" \\u8FD9\\u4E2A\\u5305\\uFF0C\\u53EF\\u4EE5\\u5C06\\u8FD9\\u4E9B\\u5143\\u6570\\u636E\\u63D0\\u53D6\\u51FA\\u6765\\uFF0C\\u5177\\u4F53\\u65B9\\u6CD5\\u4E3A\\uFF0C\\u5148\\u5B89\\u88C5\\u4F9D\\u8D56\\u5305\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-bash\",children:`yarn add gray-matter -D\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u5728\\u6839\\u76EE\\u5F55\\u65B0\\u5EFA\",(0,n.jsx)(e.code,{children:\"lib/posts.js\"}),\"\\u6587\\u4EF6\\uFF0C\\u5B9E\\u73B0\",(0,n.jsx)(e.code,{children:\"getAllPosts()\"}),\"\\u51FD\\u6570\\u3002\\u5927\\u81F4\\u8FC7\\u7A0B\\u4E3A\\uFF1A\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\u5148\\u904D\\u5386\",(0,n.jsx)(e.code,{children:\"posts/\"}),\"\\u76EE\\u5F55\\uFF0C\\u62FF\\u5230\\u6240\\u6709\\u6587\\u4EF6\\u540D\\uFF0C\\u5E76\\u8FC7\\u6EE4\\u6389\\u53EA\\u8981 MDX \\u6587\\u4EF6\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\u8BFB\\u53D6\\u6BCF\\u4E2A\\u6587\\u4EF6\\uFF0C\\u901A\\u8FC7\",(0,n.jsx)(e.code,{children:\"gray-matter\"}),\"\\u5904\\u7406\"]}),`\n`,(0,n.jsx)(e.li,{children:\"\\u5C06\\u63D0\\u53D6\\u5230\\u7684\\u6570\\u636E\\u4E0E\\u6587\\u4EF6\\u540D\\uFF08id\\uFF09\\u7EC4\\u5408\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\u6309\\u53D1\\u8868\\u65E5\\u671F\\u6392\\u5E8F\\u540E\\u8FD4\\u56DE\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"\\u5177\\u4F53\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=lib/posts.js\",children:`import fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\n\nexport const postsDirectory = path.join(process.cwd(), \"posts\");\n// \\u83B7\\u53D6 /posts \\u76EE\\u5F55\\u4E0B\\u7684\\u6587\\u4EF6\\u540D\\uFF0C\\u8FC7\\u6EE4\\u53EA\\u8981 MDX \\u6587\\u4EF6\nconst fileNames = fs\n  .readdirSync(postsDirectory)\n  .filter((fileName) => fileName.match(/\\\\.mdx$/));\n\nexport function getAllPosts(type) {\n  let postsData = fileNames.map((fileName) => {\n    // \\u53BB\\u9664\\u540E\\u7F00\\u540D\\uFF0C\\u5269\\u4E0B\\u7684\\u6587\\u4EF6\\u540D\\u4E3A id\n    const id = fileName.replace(/\\\\.mdx$/, \"\");\n\n    // MDX \\u6587\\u4EF6\\u8DEF\\u5F84\n    const filePath = path.join(postsDirectory, fileName);\n    const fileContent = fs.readFileSync(filePath, \"utf-8\");\n\n    // \\u8BFB\\u53D6 MDX \\u6587\\u4EF6\\u5934\\u6570\\u636E\n    const { data } = matter(fileContent);\n\n    return {\n      id,\n      ...data,\n    };\n  });\n  // \\u8FD4\\u56DE\\u6307\\u5B9A\\u7C7B\\u578B\\uFF0C\\u4E14\\u6309\\u65F6\\u95F4\\u6392\\u5E8F\\u7684\\u7ED3\\u679C\n  if (type) postsData = postsData.filter((post) => post.type === type);\n\n  return postsData.sort(({ date: a }, { date: b }) => {\n    a = new Date(a);\n    b = new Date(b);\n    if (a < b) {\n      return 1;\n    } else if (a > b) {\n      return -1;\n    } else {\n      return 0;\n    }\n  });\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u91CC\",(0,n.jsx)(e.code,{children:\"getAllPosts(type)\"}),\"\\u65B9\\u6CD5\\u8FD8\\u5F15\\u5165\\u4E86\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"type\"}),\"\\u53C2\\u6570\\uFF0C\\u65B9\\u4FBF\\u83B7\\u53D6\\u7279\\u5B9A\\u5206\\u7C7B\\u7684\\u6587\\u7AE0\\u6570\\u636E\\u3002\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u7136\\u540E\\u5728\",(0,n.jsx)(e.code,{children:\"components/\"}),\"\\u76EE\\u5F55\\u4E2D\\u65B0\\u5EFA\\u4E00\\u4E2A\",(0,n.jsx)(e.code,{children:\"PostList\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u65B9\\u4FBF\\u5728\\u522B\\u7684\\u9875\\u9762\\u4E2D\\u590D\\u7528\\u3002\\u7EC4\\u4EF6\\u7528\\u5230\\u4E86 Next.js \\u81EA\\u5E26\\u7684\",(0,n.jsx)(e.code,{children:\"Link\"}),\"\\u7EC4\\u4EF6\\uFF0C\\u7528\\u6CD5\\u53EF\\u4EE5\\u770B\",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/next/link\",children:\"\\u5B98\\u65B9\\u6587\\u6863\"}),\"\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=components/PostList.jsx\",children:`import Link from \"next/link\";\n\n// postData \\u5305\\u542B\\u4E86\\u6240\\u6709\\u6587\\u7AE0\\u7684 id\\u3001\\u6807\\u9898\\u3001\\u53D1\\u8868\\u65E5\\u671F\\u3001\\u7B80\\u4ECB\nexport default function PostList({ postsData }) {\n  return (\n    <ul className=\"main-posts-list\">\n      {postsData.map(({ id, title, date, desc }) => (\n        <li key={id}>\n          <article>\n            <div className=\"posts-list-date\">{date}</div>\n            <Link href={\\`/post/\\${id}\\`}>\n              <a>\n                <h1>{title}</h1>\n              </a>\n            </Link>\n            <p>{desc}</p>\n          </article>\n        </li>\n      ))}\n    </ul>\n  );\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u6700\\u540E\\u5728\",(0,n.jsx)(e.code,{children:\"pages/index.js\"}),\"\\u6587\\u4EF6\\u4E2D\\u8C03\\u7528\",(0,n.jsx)(e.code,{children:\"getAllPosts\"}),\"\\u5E76\\u4F20\\u7ED9\",(0,n.jsx)(e.code,{children:\"PostList\"}),\"\\u3002\\u6CE8\\u610F\\uFF0C\\u6700\\u540E\",(0,n.jsx)(e.code,{children:\"return\"}),\"\\u51FA\\u6765\\u7684\\u6570\\u636E\\uFF0C\\u4E00\\u5B9A\\u8981\\u5305\\u5728\",(0,n.jsx)(e.code,{children:\"props{}\"}),\"\\u5BF9\\u8C61\\u4E2D\\u3002\\u5982\\u6B64\\u8FD9\\u756A\\u6298\\u817E\\u4E4B\\u540E\\uFF0C\\u6211\\u4EEC\\u7684\\u9996\\u9875\\u7EC8\\u4E8E\\u5B8C\\u6210\\u4E86\\uFF01\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-js\",metastring:\"title=pages/index.js\",children:`import PostList from \"components/PostList\";\nimport { getAllPosts } from \"lib/posts\";\n\nexport async function getStaticProps() {\n  const postsData = getAllPosts();\n  return {\n    props: {\n      postsData,\n    },\n  };\n}\n\nexport default function Home({ postsData }) {\n  return <PostList postsData={postsData} />;\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u9274\\u4E8E\\u7BC7\\u5E45\\u6709\\u70B9\\u8FC7\\u957F\\uFF0C\\u5173\\u4E8E\\u6587\\u7AE0\\u9875\\u9762\\u7684\\u751F\\u6210\\uFF0C\\u4EE3\\u7801\\u9AD8\\u4EAE\\u7684\\u914D\\u7F6E\\u7B49\\uFF0C\\u653E\\u5728\",(0,n.jsx)(e.a,{href:\"/post/how-to-build-a-static-blog-with-nextjs-and-mdx-ii\",children:\"\\u7B2C\\u4E8C\\u7BC7\\u6587\\u7AE0\"}),\"\\u91CC\\u4ECB\\u7ECD\\u3002\"]})]})}function N(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(d,t)})):d(t)}var D=N;function w(t,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+t+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return b(P);})();\n;return Component;"},"__N_SSG":true}