{"pageProps":{"meta":{"title":"JSX 与 { 表达式 }","date":"MAY 17, 2022","desc":"偶然间在一个技术群里看到有人问，为什么在 React 里，处理点击事件的函数还没点击就执行了，而且只执行一次；另外，如果在这个函数外面再套一层箭头函数的话，它又正常了；还有就是在没有参数的情况下，也是正常的。","type":"gibberish"},"code":"var Component=(()=>{var a=Object.create;var r=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var m=(c,t)=>()=>(t||c((t={exports:{}}).exports,t),t.exports),S=(c,t)=>{for(var o in t)r(c,o,{get:t[o],enumerable:!0})},l=(c,t,o,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let i of p(t))!u.call(c,i)&&i!==o&&r(c,i,{get:()=>t[i],enumerable:!(n=h(t,i))||n.enumerable});return c};var k=(c,t,o)=>(o=c!=null?a(g(c)):{},l(t||!c||!c.__esModule?r(o,\"default\",{value:c,enumerable:!0}):o,c)),f=c=>l(r({},\"__esModule\",{value:!0}),c);var s=m((J,d)=>{d.exports=_jsx_runtime});var v={};S(v,{default:()=>j,frontmatter:()=>C});var e=k(s()),C={title:\"JSX \\u4E0E { \\u8868\\u8FBE\\u5F0F }\",date:\"MAY 17, 2022\",desc:\"\\u5076\\u7136\\u95F4\\u5728\\u4E00\\u4E2A\\u6280\\u672F\\u7FA4\\u91CC\\u770B\\u5230\\u6709\\u4EBA\\u95EE\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u5728 React \\u91CC\\uFF0C\\u5904\\u7406\\u70B9\\u51FB\\u4E8B\\u4EF6\\u7684\\u51FD\\u6570\\u8FD8\\u6CA1\\u70B9\\u51FB\\u5C31\\u6267\\u884C\\u4E86\\uFF0C\\u800C\\u4E14\\u53EA\\u6267\\u884C\\u4E00\\u6B21\\uFF1B\\u53E6\\u5916\\uFF0C\\u5982\\u679C\\u5728\\u8FD9\\u4E2A\\u51FD\\u6570\\u5916\\u9762\\u518D\\u5957\\u4E00\\u5C42\\u7BAD\\u5934\\u51FD\\u6570\\u7684\\u8BDD\\uFF0C\\u5B83\\u53C8\\u6B63\\u5E38\\u4E86\\uFF1B\\u8FD8\\u6709\\u5C31\\u662F\\u5728\\u6CA1\\u6709\\u53C2\\u6570\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u4E5F\\u662F\\u6B63\\u5E38\\u7684\\u3002\",type:\"gibberish\"};function x(c={}){let{wrapper:t}=c.components||{};return t?(0,e.jsx)(t,Object.assign({},c,{children:(0,e.jsx)(o,{})})):o();function o(){let n=Object.assign({p:\"p\",pre:\"pre\",code:\"code\",a:\"a\",blockquote:\"blockquote\",h2:\"h2\"},c.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"\\u5076\\u7136\\u95F4\\u5728\\u4E00\\u4E2A\\u6280\\u672F\\u7FA4\\u91CC\\u770B\\u5230\\u6709\\u4EBA\\u95EE\\uFF0C\\u4E3A\\u4EC0\\u4E48\\u5728 React \\u91CC\\uFF0C\\u5904\\u7406\\u70B9\\u51FB\\u4E8B\\u4EF6\\u7684\\u51FD\\u6570\\u8FD8\\u6CA1\\u70B9\\u51FB\\u5C31\\u6267\\u884C\\u4E86\\uFF0C\\u800C\\u4E14\\u53EA\\u6267\\u884C\\u4E00\\u6B21\\uFF1B\\u53E6\\u5916\\uFF0C\\u5982\\u679C\\u5728\\u8FD9\\u4E2A\\u51FD\\u6570\\u5916\\u9762\\u518D\\u5957\\u4E00\\u5C42\\u7BAD\\u5934\\u51FD\\u6570\\u7684\\u8BDD\\uFF0C\\u5B83\\u53C8\\u6B63\\u5E38\\u4E86\\uFF1B\\u8FD8\\u6709\\u5C31\\u662F\\u5728\\u6CA1\\u6709\\u53C2\\u6570\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u4E5F\\u662F\\u6B63\\u5E38\\u7684\\u3002\\u5927\\u6982\\u5C31\\u662F\\u4E0B\\u9762\\u7684\\u51E0\\u79CD\\u60C5\\u51B5\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",metastring:\"hellotest\",children:`// \\u53EA\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u5E76\\u4E14\\u8FD8\\u6CA1\\u70B9\\u51FB\\u5C31\\u6267\\u884C\\u4E86\n<Button onClick={doSomething(args)} />\n\n// \\u5305\\u4E00\\u5C42\\u7BAD\\u5934\\u51FD\\u6570\\u5C31\\u6B63\\u5E38\\u4E86\n<Button onClick={() => doSomething(args)} />\n\n// \\u6CA1\\u6709\\u53C2\\u6570\\u7684\\u60C5\\u51B5\\u4E0B\\uFF0C\\u4E5F\\u662F\\u6B63\\u5E38\\u7684\n<Button onClick={doSomething} />\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u8FD9\\u4E2A\\u95EE\\u9898\\u6211\\u4E5F\\u66FE\\u7ECF\\u9047\\u5230\\u8FC7\\uFF0C\\u5C24\\u5176\\u662F\\u5BF9\\u4E8E\\u521A\\u4ECE Vue \\u6216\\u8005\\u4E60\\u60EF\\u5199\\u539F\\u751F\\u8F6C\\u8FC7\\u6765\\u5199 React \\u7684\\u4EBA\\u6765\\u8BF4\\uFF0C\\u7684\\u786E\\u5F88\\u5BB9\\u6613\\u641E\\u6DF7\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`// \\u5728 Vue \\u4E2D\\u662F\\u6B63\\u5E38\\u7684\n<Button @click=\"doSomething(args)\" />\n\n// \\u5728\\u539F\\u751F\\u4E2D\\u662F\\u6B63\\u5E38\\u7684\n<button onclick=\"doSomething(args)\">\\u6309\\u94AE</button>\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u90A3\\u4E48\\u4E3A\\u4EC0\\u4E48\\u5728 React \\u91CC\\uFF08\\u5B9E\\u9645\\u4E0A\\u53EA\\u662F JSX\\uFF0C\\u4E0E\\u6846\\u67B6\\u65E0\\u5173\\uFF09\\uFF0C\\u7B2C\\u4E00\\u79CD\\u5199\\u6CD5\\u53EA\\u6267\\u884C\\u4E00\\u6B21\\u5462\\uFF1F\\u5176\\u5B9E\\u8FD9\\u4E2A\\u95EE\\u9898\\u4EA7\\u751F\\u7684\\u539F\\u56E0\\u5F88\\u7B80\\u5355\\uFF0C\\u4E0E\\u6846\\u67B6\\u4E00\\u70B9\\u5173\\u7CFB\\u90FD\\u6CA1\\u6709\\uFF0C\\u53EA\\u662F\\u4E00\\u4E2A\\u5F88\\u57FA\\u7840\\u7684 JS \\u95EE\\u9898\\u3002\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u5728 React \\u5B98\\u65B9\",(0,e.jsx)(n.a,{href:\"https://reactjs.org/docs/introducing-jsx.html\",children:\"\\u4ECB\\u7ECD JSX \\u7684\\u6587\\u6863\"}),\"\\u4E2D\\u6709\\u5982\\u4E0B\\u4E00\\u6BB5\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"You can put any valid JavaScript expression inside the curly braces in JSX. For example, \",(0,e.jsx)(n.code,{children:\"2 + 2\"}),\", \",(0,e.jsx)(n.code,{children:\"user.firstName\"}),\", or \",(0,e.jsx)(n.code,{children:\"formatName(user)\"}),\" are all valid JavaScript expressions.\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E5F\\u5C31\\u662F\\u8BF4\\uFF0CJSX \\u7684\\u5927\\u62EC\\u53F7\\u91CC\\u9700\\u8981\\u7684\\u662F\\u4E00\\u4E2A\\u201C\\u8868\\u8FBE\\u5F0F\\u201D\\uFF0C\\u5373\",(0,e.jsx)(n.code,{children:\"propA={\\u8868\\u8FBE\\u5F0F}\"}),\"\\u3002\\u800C\\u201C\\u8868\\u8FBE\\u5F0F\\u201D\\u548C\\u201C\\u8BED\\u53E5\\u201D\\uFF0C\\u662F JS \\u4E2D\\u4E24\\u4E2A\\u6BD4\\u8F83\\u5BB9\\u6613\\u6DF7\\u6DC6\\u7684\\u6982\\u5FF5\\u3002MDN \\u4E2D\\u5BF9\\u8868\\u8FBE\\u5F0F\\u662F\\u8FD9\\u6837\\u5B9A\\u4E49\\u7684\\uFF1A\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"An expression is any valid unit of code that resolves to a value.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u56E0\\u6B64\\uFF0C\\u8868\\u8FBE\\u5F0F\\u548C\\u8BED\\u53E5\\u6700\\u5927\\u7684\\u533A\\u522B\\uFF0C\\u5C31\\u662F\\u80FD\\u4E0D\\u80FD\\u8BA1\\u7B97\\u51FA\\u4E00\\u4E2A\\u201C\\u503C\\u201D\\u6765\\u3002\\u5176\\u5B9E JSX \\u4E2D\",(0,e.jsx)(n.code,{children:\"onClick={doSomething}\"}),\"\\u7684\\u90E8\\u5206\\uFF0C\\u53EF\\u4EE5\\u770B\\u4F5C\\u662F\\u4E00\\u4E2A\\u8D4B\\u503C\\u8BED\\u53E5\\uFF0C\\u5373\\u628A\\u5927\\u62EC\\u53F7\\u76F4\\u63A5\\u53BB\\u6389\\uFF1A\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`// onClick={doSomething} \\u76F8\\u5F53\\u4E8E\\uFF1A\nonClick = doSomething;\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u4E5F\\u5C31\\u662F\\u8BF4\\u5728 JSX \\u4E2D\\u7ED9 props \\u4F20\\u503C\\uFF0C\\u5176\\u5B9E\\u5C31\\u53EA\\u662F\\u5C06\\u7B49\\u53F7\\u53F3\\u8FB9\\uFF0C\\u5373\\u5927\\u62EC\\u53F7\\u5185\\u7684\\u8868\\u8FBE\\u5F0F\\u7684\\u503C\\uFF0C\\u8D4B\\u7ED9\\u5DE6\\u8FB9\\u7684 props \\u8FD9\\u4E48\\u7B80\\u5355\\u800C\\u5DF2\\u3002\\u5728\\u4E0A\\u9762\\u7684\\u4F8B\\u5B50\\u4E2D\\u5C31\\u662F\\u628A\",(0,e.jsx)(n.code,{children:\"onClick\"}),\"\\u6307\\u5411\",(0,e.jsx)(n.code,{children:\"doSomething\"}),\"\\u8FD9\\u4E2A\\u51FD\\u6570\\u3002\\u800C\\u5F53\\u7528\\u6237\\u70B9\\u51FB\\u8BE5\\u7EC4\\u4EF6\\u65F6\\uFF0C\\u6846\\u67B6\\u4F1A\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"onClick()\"}),\"\\uFF0C\\u4E5F\\u5C31\\u76F8\\u5F53\\u4E8E\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"doSomething()\"}),\"\\u3002\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\u800C\\u9020\\u6210 bug \\u7684\\u539F\\u56E0\\uFF0C\\u5F80\\u5F80\\u5C31\\u662F\\u5FFD\\u7565\\u4E86\\u8FD9\\u662F\\u4E00\\u4E2A\\u8D4B\\u503C\\u7684\\u8FC7\\u7A0B\\uFF0C\\u9519\\u8BEF\\u5730\\u8BA4\\u4E3A\\u70B9\\u51FB\\u4E8B\\u4EF6\\u53D1\\u751F\\u540E\\uFF0C\\u6846\\u67B6\\u4F1A\\u53BB\\u6267\\u884C\\u5927\\u62EC\\u53F7\\u5185\\u7684\\u201C\\u8BED\\u53E5\\u201D\\u3002\\u5C24\\u5176\\u5BF9\\u4E8E\\u4E60\\u60EF\\u4E86 Vue \\u7684\\u4EBA\\u6765\\u8BF4\\uFF0C\\u56E0\\u4E3A\\u5728 Vue \\u7684\\u6A21\\u677F\\u8BED\\u6CD5\\u4E2D\\uFF0C\\u7684\\u786E\\u662F\\u6309\\u8FD9\\u4E2A\\u903B\\u8F91\\u53BB\\u6267\\u884C\\u7684\\u3002\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\u56DE\\u5230\\u6700\\u4E0A\\u9762\\u7684\\u7B2C\\u4E00\\u4E2A\\u4F8B\\u5B50\\uFF1A\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",children:`// \\u53EA\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u5E76\\u4E14\\u8FD8\\u6CA1\\u70B9\\u51FB\\u5C31\\u6267\\u884C\\u4E86\n<Button onClick={doSomething(args)} />\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u91CC\\u4E4B\\u6240\\u4EE5\\u4F1A\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u662F\\u56E0\\u4E3A\\u5728\\u6E32\\u67D3\\u7684\\u8FC7\\u7A0B\\u4E2D\\uFF0C\\u76F4\\u63A5\\u8C03\\u7528\\u4E86\",(0,e.jsx)(n.code,{children:\"doSomething(args)\"}),\"\\uFF0C\\u5E76\\u5C06\\u5176\\u8FD4\\u56DE\\u503C\\u8D4B\\u503C\\u7ED9\\u4E86\",(0,e.jsx)(n.code,{children:\"onClick\"}),\"\\u3002\\u56E0\\u6B64\\uFF0C\\u5728\\u7528\\u6237\\u70B9\\u51FB\\u4E4B\\u524D\\uFF0C\\u4E8B\\u4EF6\\u5904\\u7406\\u7684\\u65B9\\u6CD5\\u5C31\\u5DF2\\u7ECF\\u88AB\\u8C03\\u7528\\u4E86\\u3002\\u5047\\u8BBE\\u8BE5\\u65B9\\u6CD5\\u5E76\\u6CA1\\u6709\\u8FD4\\u56DE\\u503C\\uFF0C\\u5219\",(0,e.jsx)(n.code,{children:\"onClick\"}),\"\\u7684\\u503C\\u4E3A\",(0,e.jsx)(n.code,{children:\"undefined\"}),\"\\u3002\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\u540E\\u7EED\\u5F53\\u7528\\u6237\\u70B9\\u51FB\\u8BE5\\u7EC4\\u4EF6\\u65F6\\uFF0C\\u6846\\u67B6\\u8C03\\u7528\",(0,e.jsx)(n.code,{children:\"onClick()\"}),\"\\uFF0C\\u5E76\\u4E0D\\u4F1A\\u518D\\u6B21\\u6267\\u884C\",(0,e.jsx)(n.code,{children:\"doSomething()\"}),\"\\u65B9\\u6CD5\\u3002\\u8FD9\\u662F\\u56E0\\u4E3A\",(0,e.jsx)(n.code,{children:\"onClick\"}),\"\\u7684\\u503C\\u4E3A\",(0,e.jsx)(n.code,{children:\"undefined\"}),\"\\uFF0CReact \\u5BF9\\u5176\\u8FDB\\u884C\\u4E86\\u9632\\u5446\\u7684\\u5904\\u7406\\uFF0C\\u76F4\\u63A5\\u5FFD\\u7565\\u800C\\u5E76\\u4E0D\\u4F1A\\u5728\\u5B9E\\u9645\\u7684 DOM \\u4E0A\\u6DFB\\u52A0\\u4E8B\\u4EF6\\u76D1\\u542C\\u3002\"]}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-js\",children:`/*\n  packages/react-dom/src/events/getListener.js\n  getListener() \\u65B9\\u6CD5\\u4E2D\n*/\nif (listener && typeof listener !== \"function\") {\n  throw new Error(\n    \\`Expected \\\\\\`\\${registrationName}\\\\\\` listener to be a function, instead got a value of \\\\\\`\\${typeof listener}\\\\\\` type.\\`\n  );\n}\n\n/*\n  packages/react-dom/src/events/DOMPluginEventSystem.js\n  accumulateSinglePhaseListeners() \\u65B9\\u6CD5\\u4E2D\n*/\n// Standard React on* listeners, i.e. onClick or onClickCapture\nif (reactEventName !== null) {\n  const listener = getListener(instance, reactEventName);\n  if (listener != null) {\n    listeners.push(\n      createDispatchListener(instance, listener, lastHostComponent)\n    );\n  }\n}\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"\\u5F53\\u6211\\u4EEC\\u4F20\\u7ED9 React \\u81EA\\u5E26\\u7684\\u5408\\u6210\\u4E8B\\u4EF6\\uFF08SyntheticEvent\\uFF09\\u7684\\u503C\\u4E0D\\u662F\\u4E00\\u4E2A\\u51FD\\u6570\\u65F6\\uFF0C\\u6846\\u67B6\\u5C06\\u4F1A\\u62A5\\u9519\\u3002\\u800C\\u5982\\u679C\\u4F20\\u7684\\u503C\\u4E3A falsy\\uFF0C\\u5219\\u8BE5\\u4E8B\\u4EF6\\u5E76\\u4E0D\\u4F1A\\u88AB\\u76D1\\u542C\\uFF0C\\u76F4\\u63A5\\u5FFD\\u7565\\u3002\"}),`\n`,(0,e.jsx)(n.h2,{children:\"\\u5C0F\\u7ED3\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"JSX \\u7684\\u5927\\u62EC\\u53F7\\u91CC\\u9762\\u8981\\u5199\\u201C\\u8868\\u8FBE\\u5F0F\\u201D\\uFF0C\\u5BF9\\u4E8E\\u4E8B\\u4EF6\\u6765\\u8BF4\\uFF0C\\u8981\\u7684\\u503C\\u662F\\u51FD\\u6570\\u3002\",(0,e.jsx)(n.code,{children:\"() => doSomething(args)\"}),\"\\u548C\",(0,e.jsx)(n.code,{children:\"doSomething\"}),\"\\u90FD\\u662F\\u51FD\\u6570\\uFF0C\\u5728\\u4E8B\\u4EF6\\u89E6\\u53D1\\u7684\\u65F6\\u5019\\uFF0C\\u8C03\\u7528\\u7684\\u662F\\u4E8B\\u4EF6\\uFF08\\u5982\",(0,e.jsx)(n.code,{children:\"onClick()\"}),\")\\uFF0C\\u800C\\u4E0D\\u662F\\u5199\\u5728\\u5927\\u62EC\\u53F7\\u91CC\\u7684\\u201C\\u8BED\\u53E5\\u201D\\u3002\"]})]})}}var j=x;return f(v);})();\n;return Component;"},"__N_SSG":true}