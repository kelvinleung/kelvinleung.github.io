<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><meta name="description" content="Kelvin&#x27;s blog"/><link rel="icon" href="/images/favicon.ico"/><title>算法小抄——“二叉树”的套路</title><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/879303eddaa0d6c4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/879303eddaa0d6c4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-a054bbf31fb90f6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-431ff9505f7ded9a.js" defer=""></script><script src="/_next/static/chunks/39-6d8ec19aeb9b9a7c.js" defer=""></script><script src="/_next/static/chunks/pages/post/solving-tree-problems-42afaae08c9daa94.js" defer=""></script><script src="/_next/static/kbX4A-R647mFDHRGgWlVs/_buildManifest.js" defer=""></script><script src="/_next/static/kbX4A-R647mFDHRGgWlVs/_ssgManifest.js" defer=""></script><script src="/_next/static/kbX4A-R647mFDHRGgWlVs/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="container"><nav class="navbar"><div class="navbar-content"><ul><li><a href="/">首页</a></li><li><a class="active" href="/posts">秘笈</a></li><li><a href="/">八股</a></li><li><a href="/">奇术</a></li><li><a href="/">轮子</a></li><li><a href="/">鄙人</a></li></ul></div></nav><main class="main"><main><article class="post-container"><div class="post-title-container"><h1 class="post-title">算法小抄——“二叉树”的套路</h1><p class="post-date">NOV 12, 2021</p></div><p>“树”是最常见的数据结构之一，与“二叉树”相关的题也是 Leetcode 中最常见的。而且大部分算法技巧，都与树的遍历有关，很多算法题，本质上就是树的遍历。二叉树的题目，都可以用下面的框架去解决：</p><pre class="prism-code language-js"><code class="prism-code language-js"><div class="token-line"><span class="line-number">1</span><div class="token-line-content"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">2</span><div class="token-line-content"><span class="token plain">  </span><span class="token comment">// 前序遍历</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">3</span><div class="token-line-content"><span class="token plain">  </span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">4</span><div class="token-line-content"><span class="token plain">  </span><span class="token comment">// 中序遍历</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">5</span><div class="token-line-content"><span class="token plain">  </span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">6</span><div class="token-line-content"><span class="token plain">  </span><span class="token comment">// 后序遍历</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">7</span><div class="token-line-content"><span class="token plain"></span><span class="token punctuation">}</span></div></div></code></pre><p>上面代码中的三个位置，前序遍历、中序遍历、后序遍历，相当于三个“勾子”，允许你在递归遍历的过程中执行一些额外的操作。</p><p>下面用一个最简单的例子来说明：</p><ul><li><svg class="marker" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg><div>Leetcode 第 226 题，翻转一棵二叉树，示例：</div></li></ul><pre class="prism-code language-js"><code class="prism-code language-js"><div class="token-line"><span class="line-number">1</span><div class="token-line-content"><span class="token comment">// 输入</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">2</span><div class="token-line-content"><span class="token plain">     </span><span class="token number">4</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">3</span><div class="token-line-content"><span class="token plain">   </span><span class="token operator">/</span><span class="token plain">   \</span></div></div><div class="token-line"><span class="line-number">4</span><div class="token-line-content"><span class="token plain">  </span><span class="token number">2</span><span class="token plain">     </span><span class="token number">7</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">5</span><div class="token-line-content"><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> \   </span><span class="token operator">/</span><span class="token plain"> \</span></div></div><div class="token-line"><span class="line-number">6</span><div class="token-line-content"><span class="token plain"></span><span class="token number">1</span><span class="token plain">   </span><span class="token number">3</span><span class="token plain"> </span><span class="token number">6</span><span class="token plain">   </span><span class="token number">9</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">7</span><div class="token-line-content"><span class="token plain">
</span></div></div><div class="token-line"><span class="line-number">8</span><div class="token-line-content"><span class="token plain"></span><span class="token comment">// 输出</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">9</span><div class="token-line-content"><span class="token plain">     </span><span class="token number">4</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">10</span><div class="token-line-content"><span class="token plain">   </span><span class="token operator">/</span><span class="token plain">   \</span></div></div><div class="token-line"><span class="line-number">11</span><div class="token-line-content"><span class="token plain">  </span><span class="token number">7</span><span class="token plain">     </span><span class="token number">2</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">12</span><div class="token-line-content"><span class="token plain"> </span><span class="token operator">/</span><span class="token plain"> \   </span><span class="token operator">/</span><span class="token plain"> \</span></div></div><div class="token-line"><span class="line-number">13</span><div class="token-line-content"><span class="token plain"></span><span class="token number">9</span><span class="token plain">   </span><span class="token number">6</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain">   </span><span class="token number">1</span></div></div></code></pre><p>这道题用前序遍历，按照上面的框架代入，还是比较简单的：</p><pre class="prism-code language-js"><code class="prism-code language-js"><div class="token-line"><span class="line-number">1</span><div class="token-line-content"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">invertTree</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">2</span><div class="token-line-content"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">root </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">3</span><div class="token-line-content"><span class="token plain">  </span><span class="token comment">// 前序遍历</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">4</span><div class="token-line-content"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">,</span><span class="token plain"> root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">,</span><span class="token plain"> root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">5</span><div class="token-line-content"><span class="token plain">  </span><span class="token function">invertTree</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">6</span><div class="token-line-content"><span class="token plain">  </span><span class="token function">invertTree</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">7</span><div class="token-line-content"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> root</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">8</span><div class="token-line-content"><span class="token plain"></span><span class="token punctuation">}</span></div></div></code></pre><p>我们在前序的位置，将根节点的左右子树进行互换，然后再分别递归翻转左右两棵子树，最终将整棵二叉树进行翻转。这道题也可以用后序遍历来做，先将根节点的左右子树分别翻转完成，再将二者进行互换，如下：</p><pre class="prism-code language-js"><code class="prism-code language-js"><div class="token-line"><span class="line-number">1</span><div class="token-line-content"><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">invertTree</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">2</span><div class="token-line-content"><span class="token plain">  </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">root </span><span class="token operator">===</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token keyword null nil">null</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">3</span><div class="token-line-content"><span class="token plain">  </span><span class="token function">invertTree</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">4</span><div class="token-line-content"><span class="token plain">  </span><span class="token function">invertTree</span><span class="token punctuation">(</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">5</span><div class="token-line-content"><span class="token plain">  </span><span class="token comment">// 后序遍历</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">6</span><div class="token-line-content"><span class="token plain">  </span><span class="token punctuation">[</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">,</span><span class="token plain"> root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain">root</span><span class="token punctuation">.</span><span class="token property-access">right</span><span class="token punctuation">,</span><span class="token plain"> root</span><span class="token punctuation">.</span><span class="token property-access">left</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">7</span><div class="token-line-content"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> root</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class="token-line"><span class="line-number">8</span><div class="token-line-content"><span class="token plain"></span><span class="token punctuation">}</span></div></div></code></pre></article></main></main><footer><div>Build with ♥ @GZ</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/post/solving-tree-problems","query":{},"buildId":"kbX4A-R647mFDHRGgWlVs","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>